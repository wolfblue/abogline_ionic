(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2Okb":function(e,a,o){"use strict";o.r(a),o.d(a,"AbogadoCasoProcesoPageModule",function(){return P});var t=o("ofXK"),n=o("3Pt+"),s=o("TEn/"),i=o("tyNb"),r=o("1G5W"),c=o("XNiG"),d=o("AytR"),l=o("fXoL"),b=o("tk/3"),p=o("iK7f"),g=o("Y4YP"),u=o("JqCM");function h(e,a){if(1&e){const e=l.Qb();l.Pb(0,"tr"),l.Pb(1,"td"),l.Hc(2),l.Ob(),l.Pb(3,"td"),l.Hc(4),l.Ob(),l.Pb(5,"td"),l.Hc(6),l.Ob(),l.Pb(7,"td"),l.Hc(8),l.Ob(),l.Pb(9,"td"),l.Pb(10,"button",7),l.ac("click",function(){l.yc(e);const o=a.$implicit;return l.cc().detalleCaso(o)}),l.Hc(11,"Ver Detalle"),l.Ob(),l.Pb(12,"button",8),l.ac("click",function(){l.yc(e);const o=a.$implicit;return l.cc().agendar(o)}),l.Hc(13,"Agendar reuni\xf3n"),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=a.$implicit;l.yb(2),l.Ic(e.id),l.yb(2),l.Ic(e.field1Desc),l.yb(2),l.Ic(e.field2Desc),l.yb(2),l.Ic(e.field7Desc)}}const m=[{path:"",component:(()=>{class e{constructor(e,a,o,t,n){this.http=e,this.router=a,this.ClienteDetalleCasoPage=o,this.ClienteDetalleAbogadoPage=t,this.spinner=n,this.unsubscribe$=new c.a,this.msg="",this.error=0,this.casos=[]}ngOnInit(){this.getAbogadoCasosProceso()}postModel(e,a){return this.http.post(""+d.a.apiUrl+e,a)}location(e){window.location=e}getAbogadoCasosProceso(){var e=this;e.spinner.show(),$("#abogadoCasosProceso").hide();let a=new FormData;a.append("emailAbogado",sessionStorage.getItem("email")),e.postModel("getAbogadoCasosProceso",a).pipe(Object(r.a)(e.unsubscribe$)).subscribe(a=>{e.spinner.hide(),e.casos=a,console.log(e.casos),setTimeout(function(){$("#abogadoCasosProceso thead tr").clone(!0).appendTo("#abogadoCasosProceso thead"),$("#abogadoCasosProceso thead tr:eq(1) th").each(function(a){"Acciones"!=$(this).text()?$(this).html('<input type="text" />'):$(this).html(""),$("input",this).on("keyup change",function(){e.column(a).search()!==this.value&&e.column(a).search(this.value).draw()})});var e=$("#abogadoCasosProceso").DataTable({orderCellsTop:!0,fixedHeader:!0,language:{decimal:"",emptyTable:"No hay informaci\xf3n",info:"Mostrando _START_ a _END_ de _TOTAL_ Entradas",infoEmpty:"Mostrando 0 to 0 of 0 Entradas",infoFiltered:"(Filtrado de _MAX_ total entradas)",infoPostFix:"",thousands:",",lengthMenu:"Mostrar _MENU_ Entradas",loadingRecords:"Cargando...",processing:"Procesando...",search:"Buscar:",zeroRecords:"Sin resultados encontrados",paginate:{first:"Primero",last:"Ultimo",next:"Siguiente",previous:"Anterior"}}});$("#abogadoCasosProceso").show()},1e3)})}detalleCaso(e){console.log(e),sessionStorage.setItem("caso",JSON.stringify(e)),this.location("abogado-detalle-caso")}agendar(e){var a=this;this.spinner.show();let o=new FormData;o.append("email",e.email),a.postModel("getDataClientes",o).pipe(Object(r.a)(a.unsubscribe$)).subscribe(o=>{this.spinner.hide(),$(".modalAgendar").modal("show"),$(".titleAgendar").html("Cliente:"),$("#agendarAbogado").val(o[0].name+" "+o[0].lastname),$("#agendarAbogadoEmail").val($(this).parent().find("#abogado_email").val()),$("#agendarIdCaso").val($(this).parent().find("#id_caso").val()),$("#agendarFecha").prop("min",(new Date).toISOString().split(".")[0]),$(".eventoAgendar").unbind("click"),$(".eventoAgendar").click(function(){if(a.spinner.show(),$(".modalAgendar").modal("hide"),$("#agendarFecha").val()){let o=new FormData;o.append("email_cliente",e.email),o.append("email_abogado",sessionStorage.getItem("email")),o.append("date_meeting",$("#agendarFecha").val()),o.append("id_caso",e.id),o.append("email_aprobacion",e.email),a.postModel("agendarReunion",o).pipe(Object(r.a)(a.unsubscribe$)).subscribe(e=>{a.spinner.hide(),a.msg="Se envio notificaci\xf3n al cliente para la asistencia de la reuni\xf3n el d\xeda "+$("#agendarFecha").val()+", le informaremos cuando el abogado acepte la reuni\xf3n",$(".success").show(),setTimeout(function(){a.location("cliente-buscar-caso")},1e4)})}else $("#agendarFecha").css("border","1px solid red")})})}}return e.\u0275fac=function(a){return new(a||e)(l.Kb(b.a),l.Kb(i.g),l.Kb(p.a),l.Kb(g.a),l.Kb(u.c))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-abogado-caso-proceso"]],decls:24,vars:5,consts:[[3,"fullscreen"],["id","container"],["role","alert",1,"informacion","success","alert-primary"],["role","alert",1,"informacion","warning","alert-warning"],["role","alert",1,"informacion","error","alert-danger"],["id","abogadoCasosProceso",1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info","verDetalle",3,"click"],["type","button",1,"btn","btn-success","agendar",3,"click"]],template:function(e,a){1&e&&(l.Pb(0,"ion-content",0),l.Pb(1,"div",1),l.Pb(2,"form"),l.Pb(3,"div",2),l.Hc(4),l.Ob(),l.Pb(5,"div",3),l.Hc(6),l.Ob(),l.Pb(7,"div",4),l.Hc(8),l.Ob(),l.Pb(9,"table",5),l.Pb(10,"thead"),l.Pb(11,"tr"),l.Pb(12,"th"),l.Hc(13,"# Caso"),l.Ob(),l.Pb(14,"th"),l.Hc(15,"Con qui\xe9n tiene problemas"),l.Ob(),l.Pb(16,"th"),l.Hc(17,"Sobre que trata el caso"),l.Ob(),l.Pb(18,"th"),l.Hc(19,"Ya se inici\xf3 un proceso ante un juzgado o entidad para su soluci\xf3n"),l.Ob(),l.Pb(20,"th"),l.Hc(21,"Acciones"),l.Ob(),l.Ob(),l.Ob(),l.Pb(22,"tbody"),l.Fc(23,h,14,4,"tr",6),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.jc("fullscreen",!0),l.yb(4),l.Jc(" ",a.msg," "),l.yb(2),l.Jc(" ",a.msg," "),l.yb(2),l.Jc(" ",a.msg," "),l.yb(15),l.jc("ngForOf",a.casos))},directives:[s.d,n.i,n.e,n.f,t.m],styles:["table[_ngcontent-%COMP%]{width:100%!important}.btn[_ngcontent-%COMP%]{margin-top:1%;width:100%}"]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(a){return new(a||e)},imports:[[i.i.forChild(m)],i.i]}),e})(),P=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(a){return new(a||e)},imports:[[t.c,n.a,s.i,f]]}),e})()}}]);