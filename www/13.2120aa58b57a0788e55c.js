(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{YGBZ:function(i,t,e){"use strict";e.r(t),e.d(t,"PerfilClientePageModule",function(){return k});var o=e("ofXK"),a=e("3Pt+"),n=e("TEn/"),s=e("tyNb"),c=e("AytR"),r=e("1G5W"),d=e("XNiG"),p=e("fXoL"),b=e("JqCM"),l=e("tk/3");function g(i,t){if(1&i&&(p.Nb(0),p.Pb(1,"option",52),p.Ic(2),p.Ob(),p.Mb()),2&i){const i=t.$implicit;p.yb(2),p.Jc(i.tipo_documento)}}function u(i,t){if(1&i&&(p.Nb(0),p.Pb(1,"option",53),p.Ic(2),p.Ob(),p.Mb()),2&i){const i=t.$implicit;p.yb(2),p.Jc(i.genero)}}function m(i,t){if(1&i&&(p.Nb(0),p.Pb(1,"option",54),p.Ic(2),p.Ob(),p.Mb()),2&i){const i=t.$implicit;p.yb(2),p.Jc(i.ciudad)}}function f(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",55),p.Ob())}function P(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",56),p.Ob())}function O(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",57),p.Ob())}function h(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",58),p.Ob())}function v(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",59),p.Ob())}function w(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",60),p.Ob())}function C(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",61),p.Ob())}function I(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",62),p.Ob())}function _(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",63),p.Ob())}function M(i,t){1&i&&(p.Pb(0,"td",2),p.Lb(1,"img",64),p.Ob())}const y=[{path:"",component:(()=>{class i{constructor(i,t){this.spinner=i,this.http=t,this.unsubscribe$=new d.a,this.nombres="",this.apellidos="",this.usuario="",this.email="",this.tipoIdentificacion="",this.identificacion="",this.genero="",this.telefonoContacto="",this.ciudad="",this.facebook="",this.twitter="",this.instagram="",this.notificacionEmail="",this.notificacionSMS="",this.activoDesde="",this.registro="",this.completaPerfil="",this.creaCaso="",this.buscaCaso="",this.disfrutaExperiencia="",this.passwordOld="",this.ciudades=[],this.generos=[],this.tiposDocumentos=[],this.tmpFile="",this.tmpOpenFile="","0"==sessionStorage.getItem("autenticado")?this.location("home"):this.getDataPage()}ngOnInit(){var i=this;$(".perfilCargaFoto").click(function(){$("input[id='photo']").click()}),$("#photo").change(function(t){let e=new FileReader;if(t.target.files&&t.target.files.length){const[o]=t.target.files;e.readAsDataURL(o),e.onloadend=function(){i.tmpFile=e.result,i.tmpOpenFile=URL.createObjectURL(t.target.files[0]),$(".perfilCargaFoto").prop("src",i.tmpOpenFile);var o=$("#photo").val().split(".").pop().toLowerCase();i.savePhoto(o)}}})}postModel(i,t){return this.http.post(""+c.a.apiUrl+i,t)}location(i){window.location.href=i}getDataPage(){var i=this;let t=new FormData;i.postModel("apiAdminCiudadGet",t).pipe(Object(r.a)(i.unsubscribe$)).subscribe(t=>{i.ciudades=t});let e=new FormData;i.postModel("apiAdminGeneroGet",e).pipe(Object(r.a)(i.unsubscribe$)).subscribe(t=>{i.generos=t});let o=new FormData;i.postModel("apiAdminTipoDocumentoGet",o).pipe(Object(r.a)(i.unsubscribe$)).subscribe(t=>{i.tiposDocumentos=t}),i.spinner.show();let a=new FormData;a.append("usuario",sessionStorage.getItem("usuario")),i.postModel("apiUsuariosGetUser",a).pipe(Object(r.a)(i.unsubscribe$)).subscribe(t=>{i.spinner.hide(),i.nombres=t[0].nombres,i.apellidos=t[0].apellidos,i.usuario=t[0].usuario,i.email=t[0].email,i.tipoIdentificacion=t[0].tipo_identificacion,i.identificacion=t[0].identificacion,i.genero=t[0].genero,i.telefonoContacto=t[0].telefono_contacto,i.ciudad=t[0].ciudad,i.facebook=t[0].facebook,i.twitter=t[0].twitter,i.instagram=t[0].instagram,i.notificacionEmail=t[0].notificacion_email,i.notificacionSMS=t[0].notificacion_sms,i.activoDesde=t[0].activo_desde,i.registro=t[0].registro,i.completaPerfil=t[0].completa_perfil,i.creaCaso=t[0].crea_caso,i.buscaCaso=t[0].busca_caso,i.disfrutaExperiencia=t[0].disfruta_experiencia,i.passwordOld=t[0].password,t[0].foto&&$(".perfilCargaFoto").prop("src",""+c.a.backend+t[0].foto),$("#tipoIdentificacion").val(i.tipoIdentificacion),$("#genero").val(i.genero),$("#ciudad").val(i.ciudad),(i.notificacionEmail="on")&&$("#notificacionEmail").prop("checked",!0),(i.notificacionSMS="on")&&$("#notificacionSMS").prop("checked",!0)})}actualizar(){var i=this,t=$("#nombres").val(),e=$("#apellidos").val(),o=$("#usuario").val(),a=$("#email").val(),n=$("#tipoIdentificacion").val(),s=$("#identificacion").val(),c=$("#genero").val(),d=$("#telefonoContacto").val(),p=$("#ciudad").val(),b=$("#facebook").val(),l=$("#twitter").val(),g=$("#instagram").val(),u=$("#notificacionEmail").val(),m=$("#notificacionSMS").val();1==a.split("@").length&&(a=""),i.spinner.show();let f=new FormData;f.append("nombres",t),f.append("apellidos",e),f.append("usuario",o),f.append("email",a),f.append("tipoIdentificacion",n),f.append("identificacion",s),f.append("genero",c),f.append("telefonoContacto",d),f.append("ciudad",p),f.append("facebook",b),f.append("twitter",l),f.append("instagram",g),f.append("notificacionEmail",u),f.append("notificacionSMS",m),i.postModel("apiUsuariosUpdateUser",f).pipe(Object(r.a)(i.unsubscribe$)).subscribe(t=>{i.spinner.hide(),$(".msgPerfil").show(),$(".msgPerfil").html("Se actualiz\xf3 el perfil correctamente."),$(".msgPerfil").css("color","green"),setTimeout(function(){$(".msgPerfil").hide()},3e3)})}cambiarPassword(){var i=this,t=$("#passwordOld").val(),e=$("#password").val(),o=$("#passwordConfirm").val(),a=0,n="";if($("#passwordOld").css("color","black"),$("#password").css("color","black"),$("#passwordConfirm").css("color","black"),0==a&&t!=i.passwordOld&&(a=1,n="La contrase\xf1a anterior no es correcta.",$("#passwordOld").css("color","red")),0==a&&e!=o&&(a=1,n="Las contrase\xf1a de confirmaci\xf3n no coincide.",$("#password").css("color","red"),$("#passwordConfirm").css("color","red")),0==a&&e.length<6&&(a=1,n="La nueva contrase\xf1a debe contener m\xednimo 6 caracteres.",$("#password").css("color","red")),1==a&&($(".msgPassword").show(),$(".msgPassword").html(n),$(".msgPassword").css("color","red"),setTimeout(function(){$(".msgPassword").hide()},3e3)),0==a){i.spinner.show();let t=new FormData;t.append("usuario",$("#usuario").val()),t.append("password",e),i.postModel("apiUsuariosUpdateUserPassword",t).pipe(Object(r.a)(i.unsubscribe$)).subscribe(t=>{i.spinner.hide(),$("#passwordOld").val(""),$("#password").val(""),$("#passwordConfirm").val(""),$(".msgPassword").show(),$(".msgPassword").html("Se actualiz\xf3 la contrase\xf1a correctamente."),$(".msgPassword").css("color","green"),setTimeout(function(){$(".msgPassword").hide()},3e3)})}}savePhoto(i){console.log(1);var t=this;let e=new FormData;e.append("usuario",t.usuario),e.append("base64",t.tmpFile),e.append("ext",i),t.postModel("apiUsuariosUpdatePhoto",e).pipe(Object(r.a)(t.unsubscribe$)).subscribe(i=>{t.generos=i})}}return i.\u0275fac=function(t){return new(t||i)(p.Kb(b.c),p.Kb(l.a))},i.\u0275cmp=p.Eb({type:i,selectors:[["app-perfil-cliente"]],decls:142,vars:25,consts:[[1,"row","heightFull"],[1,"col-md-2","background1","center","paddingRight0"],[1,"center"],["src","/assets/images/perfil_carga_foto.png",1,"perfilCargaFoto"],["type","file","id","photo",2,"display","none"],[1,"usuario"],["src","/assets/images/perfil_activo.png",1,"cursor"],["src","/assets/images/politica_privacidad.png",1,"cursor"],["src","/assets/images/pqrs.png",1,"cursor"],["src","/assets/images/acerca_de.png",1,"cursor"],[1,"col-md-10","registerForm"],[1,"row","registerFormContainer"],[1,"col-6","registerFormCapa1"],[1,"titleRegister"],[1,"pField1"],["type","text","id","nombres",3,"value"],["type","text","id","apellidos",3,"value"],["type","text","id","usuario","disabled","",3,"value"],["type","text","id","email",3,"value"],[1,"row"],[1,"col-md-6"],["id","tipoIdentificacion"],["value",""],[4,"ngFor","ngForOf"],["type","text","id","identificacion",3,"value"],["id","genero"],["type","text","id","telefonoContacto",3,"value"],["id","ciudad"],[1,"col-6","registerFormCapa2"],["type","text","id","facebook",3,"value"],["type","text","id","twitter",3,"value"],["type","text","id","instagram",3,"value"],["type","checkbox","id","notificacionEmail"],[1,"notificacionEmail"],[1,"pField2"],["type","checkbox","id","notificacionSMS"],[1,"notificacionSMS"],[1,"msgPerfil"],["src","/assets/images/perfil_actualizar.png",1,"perfilActualizar","cursor",3,"click"],[1,"changePassword"],["type","password","id","passwordOld"],["type","password","id","password"],["type","password","id","passwordConfirm"],[1,"msgPassword"],["src","/assets/images/perfil_cambiar.png",1,"perfilActualizar","cursor",3,"click"],[1,"row","formRegister2"],[1,"col"],[1,"col-md-6","titleRegister"],[1,"col-md-6","textRight"],[1,"table"],["scope","col f12","width","18%",1,"center"],["class","center",4,"ngIf"],["value","item.tipo_documento"],["value","item.genero"],["value","item.ciudad"],["src","/assets/images/paso1_true.png",1,"pasosImg"],["src","/assets/images/paso1_red.png",1,"pasosImg"],["src","/assets/images/paso2_true.png",1,"pasosImg"],["src","/assets/images/paso2_red.png",1,"pasosImg"],["src","/assets/images/paso3_true.png",1,"pasosImg"],["src","/assets/images/paso3_red.png",1,"pasosImg"],["src","/assets/images/paso4_true.png",1,"pasosImg"],["src","/assets/images/paso4_red.png",1,"pasosImg"],["src","/assets/images/paso5_true.png",1,"pasosImg"],["src","/assets/images/paso5_red.png",1,"pasosImg"]],template:function(i,t){1&i&&(p.Pb(0,"div",0),p.Pb(1,"div",1),p.Pb(2,"div",2),p.Lb(3,"img",3),p.Lb(4,"input",4),p.Ob(),p.Pb(5,"p",5),p.Ic(6),p.Ob(),p.Pb(7,"div"),p.Lb(8,"img",6),p.Ob(),p.Pb(9,"div"),p.Lb(10,"img",7),p.Ob(),p.Pb(11,"div"),p.Lb(12,"img",8),p.Ob(),p.Pb(13,"div"),p.Lb(14,"img",9),p.Ob(),p.Ob(),p.Pb(15,"div",10),p.Pb(16,"div",11),p.Pb(17,"div",12),p.Pb(18,"p",13),p.Ic(19,"CONFIGURA TU PERFIL"),p.Ob(),p.Pb(20,"p",14),p.Ic(21,"Nombres"),p.Ob(),p.Pb(22,"div"),p.Lb(23,"input",15),p.Ob(),p.Pb(24,"p",14),p.Ic(25,"Apellidos"),p.Ob(),p.Pb(26,"div"),p.Lb(27,"input",16),p.Ob(),p.Pb(28,"p",14),p.Ic(29,"Usuario"),p.Ob(),p.Pb(30,"div"),p.Lb(31,"input",17),p.Ob(),p.Pb(32,"p",14),p.Ic(33,"Correo el\xe9ctronico"),p.Ob(),p.Pb(34,"div"),p.Lb(35,"input",18),p.Ob(),p.Pb(36,"div",19),p.Pb(37,"div",20),p.Pb(38,"p",14),p.Ic(39,"Tipo de identificaci\xf3n"),p.Ob(),p.Pb(40,"div"),p.Pb(41,"select",21),p.Lb(42,"option",22),p.Gc(43,g,3,1,"ng-container",23),p.Ob(),p.Ob(),p.Ob(),p.Pb(44,"div",20),p.Pb(45,"p",14),p.Ic(46,"Identificaci\xf3n"),p.Ob(),p.Pb(47,"div"),p.Lb(48,"input",24),p.Ob(),p.Ob(),p.Ob(),p.Pb(49,"p",14),p.Ic(50,"G\xe9nero"),p.Ob(),p.Pb(51,"div"),p.Pb(52,"select",25),p.Lb(53,"option",22),p.Gc(54,u,3,1,"ng-container",23),p.Ob(),p.Ob(),p.Pb(55,"p",14),p.Ic(56,"Tel\xe9fono de contacto"),p.Ob(),p.Pb(57,"div"),p.Lb(58,"input",26),p.Ob(),p.Pb(59,"p",14),p.Ic(60,"Ciudad"),p.Ob(),p.Pb(61,"div"),p.Pb(62,"select",27),p.Lb(63,"option",22),p.Gc(64,m,3,1,"ng-container",23),p.Ob(),p.Ob(),p.Ob(),p.Pb(65,"div",28),p.Pb(66,"p",14),p.Ic(67,"Facebook"),p.Ob(),p.Pb(68,"div"),p.Lb(69,"input",29),p.Ob(),p.Pb(70,"p",14),p.Ic(71,"Twitter"),p.Ob(),p.Pb(72,"div"),p.Lb(73,"input",30),p.Ob(),p.Pb(74,"p",14),p.Ic(75,"Instagram"),p.Ob(),p.Pb(76,"div"),p.Lb(77,"input",31),p.Ob(),p.Pb(78,"div",19),p.Pb(79,"div",20),p.Pb(80,"p",14),p.Lb(81,"input",32),p.Pb(82,"span",33),p.Ic(83,"Notificaci\xf3n Email"),p.Ob(),p.Ob(),p.Ob(),p.Pb(84,"div",20),p.Pb(85,"p",34),p.Lb(86,"input",35),p.Pb(87,"span",36),p.Ic(88,"Notificaci\xf3n SMS"),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Lb(89,"p",37),p.Pb(90,"div"),p.Pb(91,"img",38),p.ac("click",function(){return t.actualizar()}),p.Ob(),p.Ob(),p.Pb(92,"div",39),p.Pb(93,"p",14),p.Ic(94,"Contrase\xf1a Anterior"),p.Ob(),p.Pb(95,"div"),p.Lb(96,"input",40),p.Ob(),p.Pb(97,"p",14),p.Ic(98,"Nueva Contrase\xf1a"),p.Ob(),p.Pb(99,"div"),p.Lb(100,"input",41),p.Ob(),p.Pb(101,"p",14),p.Ic(102,"Confirmar Contrase\xf1a"),p.Ob(),p.Pb(103,"div"),p.Lb(104,"input",42),p.Ob(),p.Lb(105,"p",43),p.Pb(106,"div"),p.Pb(107,"img",44),p.ac("click",function(){return t.cambiarPassword()}),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(108,"div",45),p.Pb(109,"div",46),p.Pb(110,"div",19),p.Pb(111,"div",47),p.Ic(112,"TU ACTIVIDAD"),p.Ob(),p.Pb(113,"div",48),p.Ic(114,"Activo desde: "),p.Pb(115,"b"),p.Ic(116),p.Ob(),p.Ob(),p.Ob(),p.Pb(117,"table",49),p.Pb(118,"thead"),p.Pb(119,"tr"),p.Pb(120,"th",50),p.Ic(121,"Registro"),p.Ob(),p.Pb(122,"th",50),p.Ic(123,"Completa tu perfil"),p.Ob(),p.Pb(124,"th",50),p.Ic(125,"Crea tu caso"),p.Ob(),p.Pb(126,"th",50),p.Ic(127,"Busca tu caso"),p.Ob(),p.Pb(128,"th",50),p.Ic(129,"Disfruta la experiencia"),p.Ob(),p.Ob(),p.Ob(),p.Pb(130,"tbody"),p.Pb(131,"tr"),p.Gc(132,f,2,0,"td",51),p.Gc(133,P,2,0,"td",51),p.Gc(134,O,2,0,"td",51),p.Gc(135,h,2,0,"td",51),p.Gc(136,v,2,0,"td",51),p.Gc(137,w,2,0,"td",51),p.Gc(138,C,2,0,"td",51),p.Gc(139,I,2,0,"td",51),p.Gc(140,_,2,0,"td",51),p.Gc(141,M,2,0,"td",51),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob()),2&i&&(p.yb(6),p.Lc("",t.nombres," ",t.apellidos,""),p.yb(17),p.lc("value",t.nombres),p.yb(4),p.lc("value",t.apellidos),p.yb(4),p.lc("value",t.usuario),p.yb(4),p.lc("value",t.email),p.yb(8),p.kc("ngForOf",t.tiposDocumentos),p.yb(5),p.lc("value",t.identificacion),p.yb(6),p.kc("ngForOf",t.generos),p.yb(4),p.lc("value",t.telefonoContacto),p.yb(6),p.kc("ngForOf",t.ciudades),p.yb(5),p.lc("value",t.facebook),p.yb(4),p.lc("value",t.twitter),p.yb(4),p.lc("value",t.instagram),p.yb(39),p.Jc(t.activoDesde),p.yb(16),p.kc("ngIf","true"==t.registro),p.yb(1),p.kc("ngIf","false"==t.registro),p.yb(1),p.kc("ngIf","true"==t.completaPerfil),p.yb(1),p.kc("ngIf","false"==t.completaPerfil),p.yb(1),p.kc("ngIf","true"==t.creaCaso),p.yb(1),p.kc("ngIf","false"==t.creaCaso),p.yb(1),p.kc("ngIf","true"==t.buscaCaso),p.yb(1),p.kc("ngIf","false"==t.buscaCaso),p.yb(1),p.kc("ngIf","true"==t.disfrutaExperiencia),p.yb(1),p.kc("ngIf","false"==t.disfrutaExperiencia))},directives:[a.g,a.h,o.l,o.m],styles:["th[_ngcontent-%COMP%]{border:0 solid}p[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:0 solid;border-bottom:1px solid grey;margin-bottom:6%;width:100%}#notificacionEmail[_ngcontent-%COMP%], #notificacionSMS[_ngcontent-%COMP%]{width:auto}.paddingRight0[_ngcontent-%COMP%]{padding-right:0}.heightFull[_ngcontent-%COMP%]{height:100%}.background1[_ngcontent-%COMP%]{background:#7f7f7f}.center[_ngcontent-%COMP%]{text-align:center}.perfilCargaFoto[_ngcontent-%COMP%]{width:90%;padding-left:4%;padding-top:6%;border-radius:50%;min-height:190px;max-height:190px}.usuario[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-top:8%;margin-bottom:8%}.itemMain[_ngcontent-%COMP%]{color:#00475c;font-weight:700;border-top:2px solid #fff;border-bottom:2px solid #fff;padding-top:4%;padding-bottom:4%}.marginAuto[_ngcontent-%COMP%]{margin:auto}.cursor[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.4}.registerForm[_ngcontent-%COMP%]{padding:0;background:#d8d9dd}.registerFormContainer[_ngcontent-%COMP%]{margin:2% 4% 2% 2%;background:#fff;padding-top:2%;border-radius:8px;padding-bottom:2%}.registerFormCapa1[_ngcontent-%COMP%], .registerFormCapa2[_ngcontent-%COMP%]{padding-left:5%;padding-right:3%;border-right:1px solid #ddd}.registerFormCapa2[_ngcontent-%COMP%]{padding-top:6%}.titleRegister[_ngcontent-%COMP%]{color:#051937;font-weight:700;font-size:18px;padding-bottom:6%}.pField1[_ngcontent-%COMP%]{font-style:italic;font-size:16px;line-height:0}.notificacionEmail[_ngcontent-%COMP%], .notificacionSMS[_ngcontent-%COMP%]{padding-left:4%}.perfilActualizar[_ngcontent-%COMP%]{width:30%;padding-top:3%;float:right}.changePassword[_ngcontent-%COMP%]{margin-top:24%;padding-top:8%;border-top:1px solid #ddd}.formRegister2[_ngcontent-%COMP%]{background:#fff;margin:3% 4% 3% 2%;border-radius:8px;padding:2% 3% 2% 4%}.textRight[_ngcontent-%COMP%]{text-align:right}.f12[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.pasosImg[_ngcontent-%COMP%]{width:45%}.lineaTiempo[_ngcontent-%COMP%]{width:10%}.msgPassword[_ngcontent-%COMP%], .msgPerfil[_ngcontent-%COMP%]{display:none}"]}),i})()}];let L=(()=>{class i{}return i.\u0275mod=p.Ib({type:i}),i.\u0275inj=p.Hb({factory:function(t){return new(t||i)},imports:[[s.i.forChild(y)],s.i]}),i})(),k=(()=>{class i{}return i.\u0275mod=p.Ib({type:i}),i.\u0275inj=p.Hb({factory:function(t){return new(t||i)},imports:[[o.c,a.a,n.e,L]]}),i})()}}]);