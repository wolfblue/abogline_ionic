(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"4l4I":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminGeneroPageModule",function(){return P});var r=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),c=n("1G5W"),a=n("XNiG"),b=n("AytR"),l=n("fXoL"),d=n("tk/3"),g=n("1kSV"),p=n("JqCM");const m=["modalRegister"];function u(e,t){if(1&e){const e=l.Qb();l.Pb(0,"tr"),l.Pb(1,"td"),l.Kc(2),l.Ob(),l.Pb(3,"td",3),l.dc(),l.Pb(4,"svg",6),l.ac("click",function(){l.Bc(e);const n=t.$implicit;return l.ec().deleteGenero(n.genero)}),l.Lb(5,"path",7),l.Lb(6,"path",8),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=t.$implicit;l.yb(2),l.Lc(e.genero)}}function h(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",9),l.Pb(1,"form"),l.Pb(2,"div",10),l.Pb(3,"label",11),l.Kc(4,"Genero"),l.Ob(),l.Lb(5,"input",12),l.Pb(6,"small",13),l.Kc(7,"Ingresar nombre del genero."),l.Ob(),l.Ob(),l.Lb(8,"p",14),l.Pb(9,"button",15),l.ac("click",function(){return l.Bc(e),l.ec().formRegister()}),l.Kc(10,"Agregar genero"),l.Ob(),l.Ob(),l.Ob()}}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.http=e,this.router=t,this.modalService=n,this.spinner=r,this.unsubscribe$=new a.a,this.generos=[],this.getGeneros()}ngOnInit(){}postModel(e,t){return this.http.post(""+b.a.apiUrl+e,t)}open(e){this.modal=this.modalService.open(e,{centered:!0,backdropClass:"light-blue-backdrop"}),this.modal.result.then(e=>{console.log("dialogo cerrado")})}addGenero(){this.open(this.modalRegister)}formRegister(){var e=this,t=0,n="",r=$("#genero").val();if(e.spinner.show(),r||(t=1,n="El campo genero es obligatorio."),1==t&&($(".msg").css("color","red"),$(".msg").html(n),$(".msg").show(),setTimeout(function(){$(".msg").hide()},3e3)),0==t){let t=new FormData;t.append("genero",r),e.postModel("apiAdminGeneroRegister",t).pipe(Object(c.a)(e.unsubscribe$)).subscribe(t=>{e.spinner.hide(),$(".msg").css("color","green"),$(".msg").html("Se registro el genero correctamente."),$(".msg").show(),setTimeout(function(){$(".msg").hide(),e.modal.close(),$(".genero").val(""),e.getGeneros()},3e3)})}}getGeneros(){var e=this;e.spinner.show();let t=new FormData;e.postModel("apiAdminGeneroGet",t).pipe(Object(c.a)(e.unsubscribe$)).subscribe(t=>{e.spinner.hide(),e.generos=t,setTimeout(function(){$("#tableDT").DataTable()})})}deleteGenero(e){var t=this;t.spinner.show();let n=new FormData;n.append("genero",e),t.postModel("apiAdminGeneroDelete",n).pipe(Object(c.a)(t.unsubscribe$)).subscribe(e=>{t.spinner.hide(),t.getGeneros()})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.a),l.Kb(s.g),l.Kb(g.a),l.Kb(p.c))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-admin-genero"]],viewQuery:function(e,t){if(1&e&&l.Qc(m,!0),2&e){let e;l.xc(e=l.bc())&&(t.modalRegister=e.first)}},decls:16,vars:1,consts:[[1,"container"],["type","submit",1,"btn","btn-primary","addBtn",3,"click"],["id","tableDT",1,"table","table-striped","table-bordered",2,"width","100%"],[1,"center"],[4,"ngFor","ngForOf"],["modalRegister",""],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","red","viewBox","0 0 16 16",1,"bi","bi-trash",3,"click"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],[1,"modal-body"],[1,"form-group"],["for","genero"],["type","text","id","genero","aria-describedby","emailHelp","placeholder","Ingresar genero",1,"form-control"],["id","generoHelp",1,"form-text","text-muted"],[1,"msg"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.Pb(1,"h3"),l.Kc(2,"Administrar Generos"),l.Ob(),l.Pb(3,"button",1),l.ac("click",function(){return t.addGenero()}),l.Kc(4,"Agregar Genero"),l.Ob(),l.Pb(5,"table",2),l.Pb(6,"thead"),l.Pb(7,"tr"),l.Pb(8,"th",3),l.Kc(9,"Genero"),l.Ob(),l.Pb(10,"th",3),l.Kc(11,"Acciones"),l.Ob(),l.Ob(),l.Ob(),l.Pb(12,"tbody"),l.Ic(13,u,7,1,"tr",4),l.Ob(),l.Ob(),l.Ob(),l.Ic(14,h,11,0,"ng-template",null,5,l.Jc)),2&e&&(l.yb(13),l.lc("ngForOf",t.generos))},directives:[r.m,o.i,o.e,o.f],styles:["h3[_ngcontent-%COMP%]{margin-top:3%}#tableDT[_ngcontent-%COMP%]{margin-top:8%}.addBtn[_ngcontent-%COMP%]{float:right}.center[_ngcontent-%COMP%]{text-align:center}.btnDelete[_ngcontent-%COMP%]{margin-left:2%}.msg[_ngcontent-%COMP%]{display:none}"]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(f)],s.i]}),e})(),P=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[r.c,o.a,i.e,O]]}),e})()}}]);