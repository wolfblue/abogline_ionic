(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{qe59:function(e,a,t){"use strict";t.r(a),t.d(a,"ClienteBuscarCasoPageModule",function(){return f});var o=t("ofXK"),n=t("3Pt+"),s=t("TEn/"),i=t("tyNb"),r=t("1G5W"),c=t("XNiG"),d=t("AytR"),l=t("fXoL"),b=t("tk/3"),u=t("iK7f"),p=t("Y4YP"),g=t("JqCM");const h=[{path:"",component:(()=>{class e{constructor(e,a,t,o,n){this.http=e,this.router=a,this.ClienteDetalleCasoPage=t,this.ClienteDetalleAbogadoPage=o,this.spinner=n,this.unsubscribe$=new c.a,this.msg="",this.error=0,this.casos=[],this.getCasos()}ngOnInit(){}postModel(e,a){return this.http.post(""+d.a.apiUrl+e,a)}location(e){window.location=e}getCasos(){var e=this;this.spinner.show();let a=new FormData;a.append("email",sessionStorage.getItem("email")),this.postModel("getDataCaso",a).pipe(Object(r.a)(this.unsubscribe$)).subscribe(a=>{console.log(a),this.spinner.hide(),this.casos=a;for(var t="",o=0;o<a.length;o++)t+="<tr>",t+=" <td>"+a[o].id+"</td>",t+=" <td>"+a[o].field1Desc+"</td>",t+=" <td>"+a[o].field2Desc+"</td>",t+=" <td>"+a[o].field7Desc+"</td>",t+=" <td>",t+="   <input type='hidden' value='"+a[o].abogado_fullname+"' id='abogado'>",t+="   <input type='hidden' value='"+a[o].abogado+"' id='abogado_email'>",t+="   <input type='hidden' value='"+a[o].id+"' id='id_caso'>",t+="   <button type='button' id='"+o+"' class='btn btn-info verDetalle'>Ver Detalle</button>","N"==a[o].hasProceso&&(t+="   <button type='button' id='"+o+"' class='btn btn-info editarCaso'>Editar Caso</button>"),a[o].abogado||(t+="   <button type='button' id='"+o+"' class='btn btn-success verAbogado'>Abogados</button>"),a[o].abogado&&(t+="   <button type='button' id='"+o+"' class='btn btn-success agendar'>Agendar reuni\xf3n</button>"),t+=" </td>",t+="</tr>";$("#buscarCaso tbody").append(t),$("td").css("vertical-align","middle"),$("button").css("width","100%"),$("button").css("margin","1%"),$(".verDetalle").click(function(){sessionStorage.setItem("caso",JSON.stringify(e.casos[$(this).prop("id")])),e.location("cliente-detalle-caso"),e.ClienteDetalleCasoPage.getDataCaso()}),$(".editarCaso").click(function(){sessionStorage.setItem("caso",JSON.stringify(e.casos[$(this).prop("id")])),e.location("cliente-caso")}),$(".verAbogado").click(function(){sessionStorage.setItem("caso",JSON.stringify(e.casos[$(this).prop("id")])),e.location("cliente-detalle-abogado")}),$(".agendar").click(function(){$(".modalAgendar").modal("show"),$("#agendarAbogado").val($(this).parent().find("#abogado").val()),$("#agendarAbogadoEmail").val($(this).parent().find("#abogado_email").val()),$("#agendarIdCaso").val($(this).parent().find("#id_caso").val()),$("#agendarFecha").prop("min",(new Date).toISOString().split(".")[0]),$(".eventoAgendar").unbind("click"),$(".eventoAgendar").click(function(){if(e.spinner.show(),$(".modalAgendar").modal("hide"),$("#agendarFecha").val()){let a=new FormData;a.append("email_cliente",sessionStorage.getItem("email")),a.append("email_abogado",$("#abogado_email").val()),a.append("date_meeting",$("#agendarFecha").val()),a.append("id_caso",$("#agendarIdCaso").val()),e.postModel("agendarReunion",a).pipe(Object(r.a)(e.unsubscribe$)).subscribe(a=>{e.spinner.hide(),e.msg="Se envio notificaci\xf3n al abogado para la asistencia de la reuni\xf3n el d\xeda "+$("#agendarFecha").val()+", le informaremos cuando el abogado acepte la reuni\xf3n",$(".success").show(),setTimeout(function(){e.location("cliente-buscar-caso")},1e4)})}else $("#agendarFecha").css("border","1px solid red")})}),$("#buscarCaso thead tr").clone(!0).appendTo("#buscarCaso thead"),$("#buscarCaso thead tr:eq(1) th").each(function(e){"Acciones"!=$(this).text()?$(this).html('<input type="text" />'):$(this).html(""),$("input",this).on("keyup change",function(){n.column(e).search()!==this.value&&n.column(e).search(this.value).draw()})});var n=$("#buscarCaso").DataTable({orderCellsTop:!0,fixedHeader:!0,language:{decimal:"",emptyTable:"No hay informaci\xf3n",info:"Mostrando _START_ a _END_ de _TOTAL_ Entradas",infoEmpty:"Mostrando 0 to 0 of 0 Entradas",infoFiltered:"(Filtrado de _MAX_ total entradas)",infoPostFix:"",thousands:",",lengthMenu:"Mostrar _MENU_ Entradas",loadingRecords:"Cargando...",processing:"Procesando...",search:"Buscar:",zeroRecords:"Sin resultados encontrados",paginate:{first:"Primero",last:"Ultimo",next:"Siguiente",previous:"Anterior"}}})})}}return e.\u0275fac=function(a){return new(a||e)(l.Kb(b.a),l.Kb(i.g),l.Kb(u.a),l.Kb(p.a),l.Kb(g.c))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-cliente-buscar-caso"]],decls:23,vars:4,consts:[[3,"fullscreen"],["id","container"],["role","alert",1,"informacion","success","alert-primary"],["role","alert",1,"informacion","warning","alert-warning"],["role","alert",1,"informacion","error","alert-danger"],["id","buscarCaso",1,"table","table-striped","table-bordered"],["colspan","2"]],template:function(e,a){1&e&&(l.Pb(0,"ion-content",0),l.Pb(1,"div",1),l.Pb(2,"form"),l.Pb(3,"div",2),l.Hc(4),l.Ob(),l.Pb(5,"div",3),l.Hc(6),l.Ob(),l.Pb(7,"div",4),l.Hc(8),l.Ob(),l.Pb(9,"table",5),l.Pb(10,"thead"),l.Pb(11,"tr"),l.Pb(12,"th"),l.Hc(13,"# Caso"),l.Ob(),l.Pb(14,"th"),l.Hc(15,"Con qui\xe9n tiene problemas"),l.Ob(),l.Pb(16,"th"),l.Hc(17,"Sobre que trata el caso"),l.Ob(),l.Pb(18,"th"),l.Hc(19,"Ya se inici\xf3 un proceso ante un juzgado o entidad para su soluci\xf3n"),l.Ob(),l.Pb(20,"th",6),l.Hc(21,"Acciones"),l.Ob(),l.Ob(),l.Ob(),l.Lb(22,"tbody"),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.jc("fullscreen",!0),l.yb(4),l.Jc(" ",a.msg," "),l.yb(2),l.Jc(" ",a.msg," "),l.yb(2),l.Jc(" ",a.msg," "))},directives:[s.d,n.i,n.e,n.f],styles:["thead[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{width:90%;margin:auto}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(a){return new(a||e)},imports:[[i.i.forChild(h)],i.i]}),e})(),f=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(a){return new(a||e)},imports:[[o.c,n.a,s.i,m]]}),e})()}}]);