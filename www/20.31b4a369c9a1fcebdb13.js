(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{nMF9:function(t,i,e){"use strict";e.r(i),e.d(i,"NotificacionesPageModule",function(){return h});var o=e("ofXK"),n=e("3Pt+"),a=e("TEn/"),s=e("tyNb"),c=e("1G5W"),r=e("XNiG"),d=e("AytR"),l=e("fXoL"),u=e("tk/3"),p=e("JqCM");const f=[{path:"",component:(()=>{class t{constructor(t,i,e){this.http=t,this.router=i,this.spinner=e,this.unsubscribe$=new r.a,this.msg="",this.error=0,this.notificaciones=[],this.getNotificaciones()}ngOnInit(){}postModel(t,i){return this.http.post(""+d.a.apiUrl+t,i)}location(t){this.router.navigateByUrl(t)}modalConfirmar(t,i){$(".modal-title").html(t),$(".modal-body").html(i),$(".modalConfirmNotification").modal("toggle"),$(".modalContinuar").unbind("click"),$(".modal-continuar").click(function(){$(".modalConfirm").modal("toggle")})}getNotificaciones(){var t=this;this.spinner.show();let i=new FormData;i.append("email",sessionStorage.getItem("email")),i.append("tipo","2"),this.postModel("getNotificacion",i).pipe(Object(c.a)(this.unsubscribe$)).subscribe(i=>{this.spinner.hide(),this.notificaciones=i;for(var e="",o=0;o<i.length;o++){var n="#3880ff6e";"2"==i[o].active&&(n="#ffffff"),e+="<tr class='notificacion' style='background:"+n+";'>",e+=" <td>",e+="   <input class='id' type='hidden' value='"+i[o].id+"' />",e+="   <input class='tipo' type='hidden' value='"+i[o].tipo+"' />",e+="   <input class='message' type='hidden' value='"+i[o].message+"' />",e+="   <input class='idCaso' type='hidden' value='"+i[o].id_caso+"' />",e+="   <input class='estadoProceso' type='hidden' value='"+i[o].estadoProceso+"' />",e+="   <input class='idReunion' type='hidden' value='"+i[o].idReunion+"' />",e+=i[o].tipo,e+=" </td>",e+=" <td>"+i[o].created_at+"</td>",e+="</tr>"}$("#buscarNotificaciones tbody").append(e),$(".notificacion").hover(function(t){$(this).css("cursor","pointer"),$(this).css("opacity","0.4")},function(){$(this).css("cursor","default"),$(this).css("opacity","1")}),$(".notificacion").click(function(){sessionStorage.setItem("idReunion",$(this).find(".idReunion").val()),$(".modalConfirmNotification").modal("show"),$(".mnTitle").html($(this).find(".tipo").val());var i=$(this).find(".message").val();$(this).find(".idCaso").val()&&"3"!=$(this).find(".estadoProceso").val()&&(i+="<br><br>",i+="<button type'button' data-dismiss='modal' class='btn btn-primary irCaso' id='"+$(this).find(".idCaso").val()+"'>Ir al caso</button>"),$(".mnMessage").html(i),$(this).css("background","#ffffff"),$(".irCaso").unbind(),$(".irCaso").click(function(){t.spinner.show();let i=new FormData;i.append("idCaso",$(this).prop("id")),i.append("emailLogin",sessionStorage.getItem("email")),t.postModel("getDataCasoEspecifico",i).pipe(Object(c.a)(t.unsubscribe$)).subscribe(i=>{t.spinner.hide(),sessionStorage.setItem("caso",JSON.stringify(i[0])),sessionStorage.setItem("notificacion","true"),t.location("/abogado-detalle-caso")})});let e=new FormData;e.append("id",$(this).find(".id").val()),t.postModel("notificacionLeido",e).pipe(Object(c.a)(t.unsubscribe$)).subscribe(t=>{})}),$("#buscarNotificaciones thead tr").clone(!0).appendTo("#buscarNotificaciones thead"),$("#buscarNotificaciones thead tr:eq(1) th").each(function(t){"Acciones"!=$(this).text()?$(this).html('<input type="text" />'):$(this).html(""),$("input",this).on("keyup change",function(){a.column(t).search()!==this.value&&a.column(t).search(this.value).draw()})});var a=$("#buscarNotificaciones").DataTable({orderCellsTop:!0,fixedHeader:!0,order:[[1,"desc"]],language:{decimal:"",emptyTable:"No hay informaci\xf3n",info:"Mostrando _START_ a _END_ de _TOTAL_ Entradas",infoEmpty:"Mostrando 0 to 0 of 0 Entradas",infoFiltered:"(Filtrado de _MAX_ total entradas)",infoPostFix:"",thousands:",",lengthMenu:"Mostrar _MENU_ Entradas",loadingRecords:"Cargando...",processing:"Procesando...",search:"Buscar:",zeroRecords:"Sin resultados encontrados",paginate:{first:"Primero",last:"Ultimo",next:"Siguiente",previous:"Anterior"}}})})}}return t.\u0275fac=function(i){return new(i||t)(l.Kb(u.a),l.Kb(s.g),l.Kb(p.c))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-notificaciones"]],decls:16,vars:4,consts:[[3,"fullscreen"],["id","container"],["id","buscarNotificaciones",1,"table","table-striped","table-bordered"],["role","alert",1,"informacion","success","alert-primary"],["role","alert",1,"informacion","warning","alert-warning"],["role","alert",1,"informacion","error","alert-danger"]],template:function(t,i){1&t&&(l.Pb(0,"ion-content",0),l.Pb(1,"div",1),l.Pb(2,"table",2),l.Pb(3,"thead"),l.Pb(4,"tr"),l.Pb(5,"th"),l.Hc(6,"Notificaci\xf3n"),l.Ob(),l.Pb(7,"th"),l.Hc(8,"Fecha de registro"),l.Ob(),l.Ob(),l.Ob(),l.Lb(9,"tbody"),l.Ob(),l.Ob(),l.Pb(10,"div",3),l.Hc(11),l.Ob(),l.Pb(12,"div",4),l.Hc(13),l.Ob(),l.Pb(14,"div",5),l.Hc(15),l.Ob(),l.Ob()),2&t&&(l.jc("fullscreen",!0),l.yb(11),l.Jc(" ",i.msg," "),l.yb(2),l.Jc(" ",i.msg," "),l.yb(2),l.Jc(" ",i.msg," "))},directives:[a.b],styles:["thead[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#container[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:90%;margin:auto}#container[_ngcontent-%COMP%]{top:28%;font-size:13px}"]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(f)],s.i]}),t})(),h=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[o.c,n.a,a.g,b]]}),t})()}}]);