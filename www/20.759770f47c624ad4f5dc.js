(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{x5bZ:function(e,i,t){"use strict";t.r(i),t.d(i,"RegisterPageModule",function(){return h});var n=t("ofXK"),o=t("3Pt+"),r=t("TEn/"),s=t("tyNb"),a=t("1G5W"),l=t("XNiG"),c=t("AytR"),b=t("fXoL"),p=t("tk/3"),d=t("JqCM"),u=t("Sy1n");const g=[{path:"",component:(()=>{class e{constructor(e,i,t,n){this.http=e,this.spinner=i,this.appComponent=t,this.router=n,this.unsubscribe$=new l.a,this.msg="",this.error=0,this.proceso=!1}ngOnInit(){}postModel(e,i){return this.http.post(""+c.a.apiUrl+e,i)}modalConfirmar(e,i){var t=this;$(".modal-title").html(e),$(".modal-body").html(i),$(".modalConfirm").modal("toggle"),$(".modalContinuar").unbind("click"),$(".modal-continuar").click(function(){t.confirmarRegistro(),$(".modalConfirm").modal("toggle")})}registerUser(){this.error=0,this.spinner.show(),$(".error").hide(),$(".success").hide(),$(".warning").hide(),$("#user").val()&&$("#email").val()&&$("#password").val()&&$("#passwordConfirm").val()&&0!=$("#termsCliente").prop("checked")||(this.error=1,this.msg="Faltan campos por diligenciar"),0==this.error&&$("#password").val()!=$("#passwordConfirm").val()&&(this.error=1,this.msg="Las contrase\xf1as no coinciden");var e=$("#email").val().split("@");if(0==this.error&&1==e.length&&(this.error=1,this.msg="El correo electr\xf3nico no es v\xe1lido"),0==this.error){let e=new FormData;e.append("usuario",$("#user").val()),this.postModel("apiAboglineRegisterConsultarUsuario",e).pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>{e.length>0?(this.spinner.hide(),$("input").val(""),this.msg="El usuario ya se encuentra registrado",$(".warning").show()):(this.spinner.hide(),this.modalConfirmar("Registrar usuario","\xbf Esta seguro de continuar con la informaci\xf3n diligenciada ?"))})}1==this.error&&($(".error").show(),this.spinner.hide())}confirmarRegistro(){var e=this;e.spinner.show();let i=new FormData;i.append("usuario",$("#user").val()),i.append("email",$("#email").val()),i.append("password",$("#password").val()),i.append("perfil",$("#perfil").val()),this.postModel("apiAboglineRegisterRegistrarUsuario",i).pipe(Object(a.a)(this.unsubscribe$)).subscribe(i=>{this.msg="Se registro el usuario correctamente",$(".success").show(),sessionStorage.setItem("usuario",$("#user").val()),sessionStorage.setItem("email",$("#email").val()),sessionStorage.setItem("perfil",$("#perfil").val()),setTimeout(function(){e.spinner.hide(),$(".modalConfirm").modal("hide"),$(".success").hide(),$("input").val(""),window.location.href="home"},2e3)})}}return e.\u0275fac=function(i){return new(i||e)(b.Kb(p.a),b.Kb(d.c),b.Kb(u.a),b.Kb(s.g))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-register"]],decls:48,vars:4,consts:[[3,"fullscreen"],["id","container"],[1,"label-txt"],["type","text","id","user",1,"input"],[1,"line-box"],[1,"line"],["type","text","id","email",1,"input"],["type","password","id","password",1,"input"],["type","password","id","passwordConfirm",1,"input"],["id","perfil",1,"input"],["value","abogado"],["value","cliente"],["type","checkbox","id","termsCliente",1,"input"],[3,"click"],["role","alert",1,"informacion","success","alert-primary"],["role","alert",1,"informacion","warning","alert-warning"],["role","alert",1,"informacion","error","alert-danger"]],template:function(e,i){1&e&&(b.Pb(0,"ion-content",0),b.Pb(1,"div",1),b.Pb(2,"form"),b.Pb(3,"label"),b.Pb(4,"p",2),b.Hc(5,"Usuario (*):"),b.Ob(),b.Lb(6,"input",3),b.Pb(7,"div",4),b.Lb(8,"div",5),b.Ob(),b.Ob(),b.Pb(9,"label"),b.Pb(10,"p",2),b.Hc(11,"Correo Electr\xf3nico (*):"),b.Ob(),b.Lb(12,"input",6),b.Pb(13,"div",4),b.Lb(14,"div",5),b.Ob(),b.Ob(),b.Pb(15,"label"),b.Pb(16,"p",2),b.Hc(17,"Contrase\xf1a (*):"),b.Ob(),b.Lb(18,"input",7),b.Pb(19,"div",4),b.Lb(20,"div",5),b.Ob(),b.Ob(),b.Pb(21,"label"),b.Pb(22,"p",2),b.Hc(23,"Confirmar Contrase\xf1a (*):"),b.Ob(),b.Lb(24,"input",8),b.Pb(25,"div",4),b.Lb(26,"div",5),b.Ob(),b.Ob(),b.Pb(27,"label"),b.Pb(28,"p",2),b.Hc(29,"Perfil (*):"),b.Ob(),b.Pb(30,"select",9),b.Pb(31,"option",10),b.Hc(32,"Abogado"),b.Ob(),b.Pb(33,"option",11),b.Hc(34,"Cliente"),b.Ob(),b.Ob(),b.Pb(35,"div",4),b.Lb(36,"div",5),b.Ob(),b.Ob(),b.Pb(37,"label"),b.Lb(38,"input",12),b.Hc(39," \xa0 Acepta los t\xe9rminos y condiciones(*): "),b.Ob(),b.Pb(40,"button",13),b.ac("click",function(){return i.registerUser()}),b.Hc(41,"Registrarse"),b.Ob(),b.Pb(42,"div",14),b.Hc(43),b.Ob(),b.Pb(44,"div",15),b.Hc(45),b.Ob(),b.Pb(46,"div",16),b.Hc(47),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&e&&(b.jc("fullscreen",!0),b.yb(43),b.Jc(" ",i.msg," "),b.yb(2),b.Jc(" ",i.msg," "),b.yb(2),b.Jc(" ",i.msg," "))},directives:[r.d,o.i,o.e,o.f,o.g,o.h],styles:["body[_ngcontent-%COMP%]{background:#c5e1a5}form[_ngcontent-%COMP%]{width:60%;margin:60px auto;background:#efefef;padding:60px 120px 80px;text-align:center;box-shadow:2px 2px 3px rgba(0,0,0,.1)}label[_ngcontent-%COMP%]{display:block;position:relative;margin:40px 0}button[_ngcontent-%COMP%]{margin-bottom:3%}.label-txt[_ngcontent-%COMP%]{position:absolute;top:-1.6em;padding:10px;font-family:sans-serif;font-size:.8em;letter-spacing:1px;color:#787878;transition:.3s ease}.input[_ngcontent-%COMP%]{width:100%;padding:10px;background:transparent;border:none;outline:none}.line-box[_ngcontent-%COMP%]{position:relative;width:100%;height:2px;background:#bcbcbc}.line[_ngcontent-%COMP%]{position:absolute;width:0;height:2px;top:0;left:50%;transform:translateX(-50%);background:#0b1b3b;transition:.6s ease}.input[_ngcontent-%COMP%]:focus + .line-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%}.label-active[_ngcontent-%COMP%]{top:-3em}button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;background:#dcdcdc;font-weight:700;color:#787878;border:none;outline:none;border-radius:3px;cursor:pointer;transition:.3s ease}button[_ngcontent-%COMP%]:hover{background:#0b1b3b;color:#fff}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(i){return new(i||e)},imports:[[s.i.forChild(g)],s.i]}),e})(),h=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(i){return new(i||e)},imports:[[n.c,o.a,r.i,m]]}),e})()}}]);