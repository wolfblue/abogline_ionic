(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{LPFh:function(t,i,c){"use strict";c.r(i),c.d(i,"SolicitudesPageModule",function(){return O});var e=c("ofXK"),o=c("3Pt+"),s=c("TEn/"),n=c("tyNb"),b=c("1G5W"),r=c("XNiG"),a=c("AytR"),u=c("fXoL"),d=c("tk/3"),l=c("JqCM");function p(t,i){if(1&t){const t=u.Qb();u.Nb(0),u.Pb(1,"tr"),u.Pb(2,"td"),u.Hc(3),u.Ob(),u.Pb(4,"td"),u.Hc(5),u.Ob(),u.Pb(6,"td"),u.Hc(7),u.Ob(),u.Pb(8,"td"),u.Hc(9),u.Ob(),u.Pb(10,"td"),u.Pb(11,"button",5),u.ac("click",function(){u.yc(t);const c=i.$implicit;return u.cc().aceptarSolicitud(c.id)}),u.Hc(12,"Aceptar solicitud"),u.Ob(),u.Pb(13,"button",5),u.ac("click",function(){u.yc(t);const c=i.$implicit;return u.cc().rechazarSolicitud(c.id)}),u.Hc(14,"Rechazar solicitud"),u.Ob(),u.Ob(),u.Ob(),u.Mb()}if(2&t){const t=i.$implicit;u.yb(3),u.Ic(t.id_caso),u.yb(2),u.Ic(t.solicita),u.yb(2),u.Ic(t.descripcion),u.yb(2),u.Ic(t.fecha)}}const h=[{path:"",component:(()=>{class t{constructor(t,i){this.http=t,this.spinner=i,this.unsubscribe$=new r.a,this.usuario=sessionStorage.getItem("usuario"),this.perfil=sessionStorage.getItem("perfil"),this.solicitudes=[],this.getInfoPage()}ngOnInit(){}postModel(t,i){return this.http.post(""+a.a.apiUrl+t,i)}getInfoPage(){var t=this;let i=new FormData;i.append("usuario",t.usuario),t.postModel("apiAboglineSolicitudesGetInfo",i).pipe(Object(b.a)(t.unsubscribe$)).subscribe(i=>{i.length>0&&(t.solicitudes=i[0].solicitudes),$("#solicitudes").DataTable()})}aceptarSolicitud(t){let i=new FormData;i.append("idSolicitud",t),this.postModel("apiAboglineSolicitudesAprobar",i).pipe(Object(b.a)(this.unsubscribe$)).subscribe(t=>{window.location.href="/solicitudes"})}rechazarSolicitud(t){let i=new FormData;i.append("idSolicitud",t),this.postModel("apiAboglineSolicitudesRechazar",i).pipe(Object(b.a)(this.unsubscribe$)).subscribe(t=>{window.location.href="/solicitudes"})}}return t.\u0275fac=function(i){return new(i||t)(u.Kb(d.a),u.Kb(l.c))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-solicitudes"]],decls:19,vars:2,consts:[[3,"fullscreen"],[1,"contenido"],["id","solicitudes","width","100%"],["width","7%"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){1&t&&(u.Pb(0,"ion-content",0),u.Pb(1,"div",1),u.Pb(2,"h3"),u.Hc(3,"Solicitudes"),u.Ob(),u.Pb(4,"table",2),u.Pb(5,"thead"),u.Pb(6,"tr"),u.Pb(7,"th",3),u.Hc(8,"Caso"),u.Ob(),u.Pb(9,"th"),u.Hc(10,"Quien solicita"),u.Ob(),u.Pb(11,"th"),u.Hc(12,"Tipo de solicitud"),u.Ob(),u.Pb(13,"th"),u.Hc(14,"Fecha de solicitud"),u.Ob(),u.Pb(15,"th"),u.Hc(16,"Acciones"),u.Ob(),u.Ob(),u.Ob(),u.Pb(17,"tbody"),u.Fc(18,p,15,4,"ng-container",4),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&t&&(u.jc("fullscreen",!0),u.yb(18),u.jc("ngForOf",i.solicitudes))},directives:[s.d,e.m],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid;padding:1%}"]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(i){return new(i||t)},imports:[[n.i.forChild(h)],n.i]}),t})(),O=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(i){return new(i||t)},imports:[[e.c,o.a,s.i,f]]}),t})()}}]);