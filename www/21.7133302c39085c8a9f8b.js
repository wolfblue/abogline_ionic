(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Gi4b:function(t,o,a){"use strict";a.r(o),a.d(o,"AdminUsuariosPageModule",function(){return J});var e=a("ofXK"),c=a("3Pt+"),i=a("TEn/"),n=a("tyNb"),b=a("1G5W"),r=a("XNiG"),s=a("AytR"),l=a("fXoL"),u=a("tk/3"),d=a("1kSV"),h=a("JqCM");const p=["modalDocumentos"];function m(t,o){1&t&&(l.Pb(0,"span"),l.Jc(1,"Registrado"),l.Ob())}function f(t,o){1&t&&(l.Pb(0,"span"),l.Jc(1,"Aprobado"),l.Ob())}function g(t,o){1&t&&(l.Pb(0,"span"),l.Jc(1,"Rechazado"),l.Ob())}function O(t,o){1&t&&(l.Pb(0,"span"),l.Jc(1,"Bloqueado"),l.Ob())}function P(t,o){if(1&t){const t=l.Qb();l.dc(),l.cc(),l.Pb(0,"div",7),l.dc(),l.Pb(1,"svg",15),l.ac("click",function(){l.Ac(t);const o=l.ec().$implicit;return l.ec().confirmarAbogado(o.usuario)}),l.Lb(2,"path",16),l.Ob(),l.Ob()}}function w(t,o){if(1&t){const t=l.Qb();l.dc(),l.cc(),l.Pb(0,"div",7),l.dc(),l.Pb(1,"svg",17),l.ac("click",function(){l.Ac(t);const o=l.ec().$implicit;return l.ec().rechazarAbogado(o.usuario)}),l.Lb(2,"path",18),l.Lb(3,"path",19),l.Ob(),l.Ob()}}function v(t,o){if(1&t){const t=l.Qb();l.Pb(0,"tr"),l.Pb(1,"td"),l.Jc(2),l.Ob(),l.Pb(3,"td"),l.Jc(4),l.Ob(),l.Pb(5,"td"),l.Jc(6),l.Ob(),l.Pb(7,"td"),l.Jc(8),l.Ob(),l.Pb(9,"td"),l.Jc(10),l.Ob(),l.Pb(11,"td"),l.Jc(12),l.Ob(),l.Pb(13,"td"),l.Jc(14),l.Ob(),l.Pb(15,"td"),l.Hc(16,m,2,0,"span",5),l.Hc(17,f,2,0,"span",5),l.Hc(18,g,2,0,"span",5),l.Hc(19,O,2,0,"span",5),l.Ob(),l.Pb(20,"td"),l.Pb(21,"div",6),l.Pb(22,"div",7),l.dc(),l.Pb(23,"svg",8),l.ac("click",function(){l.Ac(t);const a=o.$implicit;return l.ec().getDocumentosUser(a.usuario)}),l.Lb(24,"path",9),l.Lb(25,"path",10),l.Ob(),l.Ob(),l.cc(),l.Pb(26,"div",7),l.dc(),l.Pb(27,"svg",11),l.ac("click",function(){l.Ac(t);const a=o.$implicit;return l.ec().bloquearUsuario(a.usuario)}),l.Lb(28,"path",12),l.Lb(29,"path",13),l.Ob(),l.Ob(),l.Hc(30,P,3,0,"div",14),l.Hc(31,w,4,0,"div",14),l.Ob(),l.Ob(),l.Ob()}if(2&t){const t=o.$implicit;l.yb(2),l.Kc(t.usuario),l.yb(2),l.Kc(t.email),l.yb(2),l.Kc(t.perfil),l.yb(2),l.Kc(t.tipo_identificacion),l.yb(2),l.Kc(t.identificacion),l.yb(2),l.Mc("",t.nombres," ",t.apellidos,""),l.yb(2),l.Kc(t.telefono_contacto),l.yb(2),l.lc("ngIf","1"==t.estado),l.yb(1),l.lc("ngIf","2"==t.estado),l.yb(1),l.lc("ngIf","3"==t.estado),l.yb(1),l.lc("ngIf","4"==t.estado),l.yb(11),l.lc("ngIf","abogado"==t.perfil),l.yb(1),l.lc("ngIf","abogado"==t.perfil)}}function A(t,o){if(1&t){const t=l.Qb();l.Pb(0,"tr"),l.Pb(1,"td"),l.Jc(2),l.Ob(),l.Pb(3,"td"),l.dc(),l.Pb(4,"svg",23),l.ac("click",function(){l.Ac(t);const a=o.$implicit;return l.ec(2).openFile(a.file)}),l.Lb(5,"path",24),l.Lb(6,"path",25),l.Ob(),l.Ob(),l.Ob()}if(2&t){const t=o.$implicit;l.yb(2),l.Kc(t.tipo)}}function z(t,o){if(1&t&&(l.Pb(0,"div",20),l.Pb(1,"form"),l.Pb(2,"div",21),l.Pb(3,"table",22),l.Pb(4,"thead"),l.Pb(5,"tr"),l.Pb(6,"th",2),l.Jc(7,"Tipo de documento"),l.Ob(),l.Pb(8,"th",2),l.Jc(9,"Documento"),l.Ob(),l.Ob(),l.Ob(),l.Pb(10,"tbody"),l.Hc(11,A,7,1,"tr",3),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&t){const t=l.ec();l.yb(11),l.lc("ngForOf",t.documentos)}}const L=[{path:"",component:(()=>{class t{constructor(t,o,a,e){this.http=t,this.router=o,this.modalService=a,this.spinner=e,this.unsubscribe$=new r.a,this.usuarios=[],this.documentos=[],this.getUsuarios()}ngOnInit(){$(".administrarUsuarios").css("color","#3B9CB2")}postModel(t,o){return this.http.post(""+s.a.apiUrl+t,o)}location(t){window.location.href=t}getUsuarios(){var t=this;t.spinner.show();let o=new FormData;t.postModel("apiAdminGetUsuarios",o).pipe(Object(b.a)(t.unsubscribe$)).subscribe(o=>{t.spinner.hide(),t.usuarios=o,setTimeout(function(){$("#tableDT").DataTable()})})}open(t){this.modal=this.modalService.open(t,{centered:!0,backdropClass:"light-blue-backdrop"}),this.modal.result.then(t=>{console.log("dialogo cerrado")})}getDocumentosUser(t){var o=this;o.spinner.show(),o.open(o.modalDocumentos);let a=new FormData;a.append("usuario",t),o.postModel("apiAdminGetDocumentosUser",a).pipe(Object(b.a)(o.unsubscribe$)).subscribe(t=>{o.documentos=t,o.spinner.hide()})}downloadFile(t){const o=document.createElement("a");o.href=t,o.download="abogline_documento",o.click()}openFile(t){console.log(t),this.downloadFile(t)}confirmarAbogado(t){var o=this;$.confirm({title:"Aprobar abogado!",content:"Esta seguro de aprobar al abogado ?",buttons:{confirmar:function(){let a=new FormData;a.append("usuario",t),o.postModel("apiAdminAprobarAbogado",a).pipe(Object(b.a)(o.unsubscribe$)).subscribe(t=>{}),$.alert("Se aprob\xf3 el abogado correctamente"),setTimeout(function(){o.location("/admin-usuarios")},3e3)},cancelar:function(){}}})}rechazarAbogado(t){var o=this;$.confirm({title:"Rechazar abogado!",content:'Indique a continuaci\xf3n el motivo del rechazo: <br><br><textarea id="rechazo" cols="40" rows="10"></textarea>',buttons:{confirmar:function(){let a=new FormData;a.append("usuario",t),a.append("motivo",$("#rechazo").val()),o.postModel("apiAdminRechazarAbogado",a).pipe(Object(b.a)(o.unsubscribe$)).subscribe(t=>{}),$.alert("Se rechaz\xf3 el abogado correctamente"),setTimeout(function(){o.location("/admin-usuarios")},3e3)},cancelar:function(){}}})}bloquearUsuario(t){var o=this;$.confirm({title:"Bloquear usuario!",content:"Esta seguro de bloquear al usuario ?",buttons:{confirmar:function(){let a=new FormData;a.append("usuario",t),o.postModel("apiAdminBloquearUsuario",a).pipe(Object(b.a)(o.unsubscribe$)).subscribe(t=>{}),$.alert("Se bloqueo el usuario correctamente"),setTimeout(function(){o.location("/admin-usuarios")},3e3)},cancelar:function(){}}})}}return t.\u0275fac=function(o){return new(o||t)(l.Kb(u.a),l.Kb(n.g),l.Kb(d.a),l.Kb(h.c))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-admin-usuarios"]],viewQuery:function(t,o){if(1&t&&l.Oc(p,!0),2&t){let t;l.xc(t=l.bc())&&(o.modalDocumentos=t.first)}},decls:28,vars:1,consts:[[1,"container"],["id","tableDT",1,"table","table-striped","table-bordered",2,"width","100%"],[1,"center"],[4,"ngFor","ngForOf"],["modalDocumentos",""],[4,"ngIf"],[1,"row"],[1,"col-md-3"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16","alt","Documentos","title","Documentos",1,"bi","bi-stickies",3,"click"],["d","M1.5 0A1.5 1.5 0 0 0 0 1.5V13a1 1 0 0 0 1 1V1.5a.5.5 0 0 1 .5-.5H14a1 1 0 0 0-1-1H1.5z"],["d","M3.5 2A1.5 1.5 0 0 0 2 3.5v11A1.5 1.5 0 0 0 3.5 16h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 16 9.586V3.5A1.5 1.5 0 0 0 14.5 2h-11zM3 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5V9h-4.5A1.5 1.5 0 0 0 9 10.5V15H3.5a.5.5 0 0 1-.5-.5v-11zm7 11.293V10.5a.5.5 0 0 1 .5-.5h4.293L10 14.793z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16","alt","Bloquear","title","Bloquear",1,"bi","bi-file-lock",3,"click"],["d","M8 5a1 1 0 0 1 1 1v1H7V6a1 1 0 0 1 1-1zm2 2.076V6a2 2 0 1 0-4 0v1.076c-.54.166-1 .597-1 1.224v2.4c0 .816.781 1.3 1.5 1.3h3c.719 0 1.5-.484 1.5-1.3V8.3c0-.627-.46-1.058-1-1.224zM6.105 8.125A.637.637 0 0 1 6.5 8h3a.64.64 0 0 1 .395.125c.085.068.105.133.105.175v2.4c0 .042-.02.107-.105.175A.637.637 0 0 1 9.5 11h-3a.637.637 0 0 1-.395-.125C6.02 10.807 6 10.742 6 10.7V8.3c0-.042.02-.107.105-.175z"],["d","M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"],["class","col-md-3",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check2",3,"click"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"modal-body"],[1,"form-group"],["id","tableDT2",1,"table","table-striped","table-bordered",2,"width","100%"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-receipt",3,"click"],["d","M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"],["d","M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"]],template:function(t,o){1&t&&(l.Pb(0,"div",0),l.Pb(1,"h3"),l.Jc(2,"Administrar Usuarios"),l.Ob(),l.Pb(3,"table",1),l.Pb(4,"thead"),l.Pb(5,"tr"),l.Pb(6,"th",2),l.Jc(7,"Usuario"),l.Ob(),l.Pb(8,"th",2),l.Jc(9,"Email"),l.Ob(),l.Pb(10,"th",2),l.Jc(11,"Perfil"),l.Ob(),l.Pb(12,"th",2),l.Jc(13,"Tipo de identificaci\xf3n"),l.Ob(),l.Pb(14,"th",2),l.Jc(15,"Identificaci\xf3n"),l.Ob(),l.Pb(16,"th",2),l.Jc(17,"Nombre"),l.Ob(),l.Pb(18,"th",2),l.Jc(19,"Tel\xe9fono"),l.Ob(),l.Pb(20,"th",2),l.Jc(21,"Estado"),l.Ob(),l.Pb(22,"th",2),l.Jc(23,"Acciones"),l.Ob(),l.Ob(),l.Ob(),l.Pb(24,"tbody"),l.Hc(25,v,32,14,"tr",3),l.Ob(),l.Ob(),l.Ob(),l.Hc(26,z,12,1,"ng-template",null,4,l.Ic)),2&t&&(l.yb(25),l.lc("ngForOf",o.usuarios))},directives:[e.m,e.n,c.i,c.e,c.f],styles:["h3[_ngcontent-%COMP%]{margin-top:3%}#tableDT[_ngcontent-%COMP%]{margin-top:8%}.addBtn[_ngcontent-%COMP%]{float:right}.center[_ngcontent-%COMP%]{text-align:center}.btnDelete[_ngcontent-%COMP%]{margin-left:2%}.msg[_ngcontent-%COMP%]{display:none}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(o){return new(o||t)},imports:[[n.i.forChild(L)],n.i]}),t})(),J=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(o){return new(o||t)},imports:[[e.c,c.a,i.e,y]]}),t})()}}]);