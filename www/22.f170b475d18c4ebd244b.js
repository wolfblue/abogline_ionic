(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{nMF9:function(t,i,e){"use strict";e.r(i),e.d(i,"NotificacionesPageModule",function(){return m});var n=e("ofXK"),o=e("3Pt+"),a=e("TEn/"),s=e("tyNb"),c=e("1G5W"),r=e("XNiG"),d=e("AytR"),l=e("fXoL"),f=e("tk/3"),p=e("JqCM"),u=e("Sy1n");const h=[{path:"",component:(()=>{class t{constructor(t,i,e,n){this.http=t,this.router=i,this.spinner=e,this.appComponent=n,this.unsubscribe$=new r.a,this.msg="",this.error=0,this.notificaciones=[],this.getNotificaciones()}ngOnInit(){}postModel(t,i){return this.http.post(""+d.a.apiUrl+t,i)}location(t){this.router.navigateByUrl(t)}modalConfirmar(t,i){$(".modal-title").html(t),$(".modal-body").html(i),$(".modalConfirmNotification").modal("toggle"),$(".modalContinuar").unbind("click"),$(".modal-continuar").click(function(){$(".modalConfirm").modal("toggle")})}getNotificaciones(){var t=this;this.spinner.show();let i=new FormData;i.append("email",sessionStorage.getItem("email")),i.append("tipo","2"),this.postModel("getNotificacion",i).pipe(Object(c.a)(this.unsubscribe$)).subscribe(i=>{this.spinner.hide(),this.notificaciones=i;for(var e="",n=0;n<i.length;n++){var o="#3880ff6e";"2"==i[n].active&&(o="#ffffff"),e+="<tr class='notificacion' style='background:"+o+";'>",e+=" <td>",e+="   <input class='id' type='hidden' value='"+i[n].id+"' />",e+="   <input class='tipo' type='hidden' value='"+i[n].tipo+"' />",e+="   <input class='message' type='hidden' value='"+i[n].message+"' />",e+=i[n].tipo,e+=" </td>",e+=" <td>"+i[n].created_at+"</td>",e+="</tr>"}$("#buscarNotificaciones tbody").append(e),$(".notificacion").hover(function(t){$(this).css("cursor","pointer"),$(this).css("opacity","0.4")},function(){$(this).css("cursor","default"),$(this).css("opacity","1")}),$(".notificacion").click(function(){$(".modalConfirmNotification").modal("show"),$(".mnTitle").html($(this).find(".tipo").val()),$(".mnMessage").html($(this).find(".message").val()),$(this).css("background","#ffffff");let i=new FormData;i.append("id",$(this).find(".id").val()),t.postModel("notificacionLeido",i).pipe(Object(c.a)(t.unsubscribe$)).subscribe(i=>{t.appComponent.getNotificaciones()})}),$("#buscarNotificaciones thead tr").clone(!0).appendTo("#buscarNotificaciones thead"),$("#buscarNotificaciones thead tr:eq(1) th").each(function(t){"Acciones"!=$(this).text()?$(this).html('<input type="text" />'):$(this).html(""),$("input",this).on("keyup change",function(){a.column(t).search()!==this.value&&a.column(t).search(this.value).draw()})});var a=$("#buscarNotificaciones").DataTable({orderCellsTop:!0,fixedHeader:!0,order:[[1,"desc"]],language:{decimal:"",emptyTable:"No hay informaci\xf3n",info:"Mostrando _START_ a _END_ de _TOTAL_ Entradas",infoEmpty:"Mostrando 0 to 0 of 0 Entradas",infoFiltered:"(Filtrado de _MAX_ total entradas)",infoPostFix:"",thousands:",",lengthMenu:"Mostrar _MENU_ Entradas",loadingRecords:"Cargando...",processing:"Procesando...",search:"Buscar:",zeroRecords:"Sin resultados encontrados",paginate:{first:"Primero",last:"Ultimo",next:"Siguiente",previous:"Anterior"}}})})}}return t.\u0275fac=function(i){return new(i||t)(l.Kb(f.a),l.Kb(s.g),l.Kb(p.c),l.Kb(u.a))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-notificaciones"]],decls:16,vars:4,consts:[[3,"fullscreen"],["id","container"],["id","buscarNotificaciones",1,"table","table-striped","table-bordered"],["role","alert",1,"informacion","success","alert-primary"],["role","alert",1,"informacion","warning","alert-warning"],["role","alert",1,"informacion","error","alert-danger"]],template:function(t,i){1&t&&(l.Pb(0,"ion-content",0),l.Pb(1,"div",1),l.Pb(2,"table",2),l.Pb(3,"thead"),l.Pb(4,"tr"),l.Pb(5,"th"),l.Hc(6,"Notificaci\xf3n"),l.Ob(),l.Pb(7,"th"),l.Hc(8,"Fecha de registro"),l.Ob(),l.Ob(),l.Ob(),l.Lb(9,"tbody"),l.Ob(),l.Ob(),l.Pb(10,"div",3),l.Hc(11),l.Ob(),l.Pb(12,"div",4),l.Hc(13),l.Ob(),l.Pb(14,"div",5),l.Hc(15),l.Ob(),l.Ob()),2&t&&(l.jc("fullscreen",!0),l.yb(11),l.Jc(" ",i.msg," "),l.yb(2),l.Jc(" ",i.msg," "),l.yb(2),l.Jc(" ",i.msg," "))},directives:[a.d],styles:["thead[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#container[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:90%;margin:auto}#container[_ngcontent-%COMP%]{top:28%;font-size:13px}"]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(h)],s.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[n.c,o.a,a.i,b]]}),t})()}}]);