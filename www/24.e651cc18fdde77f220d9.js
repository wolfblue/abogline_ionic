(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{x5bZ:function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterPageModule",function(){return h});var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),a=n("1G5W"),l=n("XNiG"),c=n("AytR"),p=n("fXoL"),b=n("tk/3"),d=n("JqCM"),u=n("Sy1n");const m=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.http=e,this.spinner=t,this.appComponent=n,this.router=i,this.unsubscribe$=new l.a,this.msg="",this.error=0,this.proceso=!1}ngOnInit(){}postModel(e,t){return this.http.post(""+c.a.apiUrl+e,t)}modalConfirmar(e,t){var n=this;$(".modal-title").html(e),$(".modal-body").html(t),$(".modalConfirm").modal("toggle"),$(".modalContinuar").unbind("click"),$(".modal-continuar").click(function(){n.confirmarRegistro(),$(".modalConfirm").modal("toggle")})}registerUser(){this.error=0,this.spinner.show(),$(".error").hide(),$(".success").hide(),$(".warning").hide(),$("#user").val()&&$("#email").val()&&$("#password").val()&&$("#passwordConfirm").val()&&0!=$("#termsCliente").prop("checked")||(this.error=1,this.msg="Faltan campos por diligenciar"),0==this.error&&$("#password").val()!=$("#passwordConfirm").val()&&(this.error=1,this.msg="Las contrase\xf1as no coinciden");var e=$("#email").val().split("@");if(0==this.error&&1==e.length&&(this.error=1,this.msg="El correo electr\xf3nico no es v\xe1lido"),0==this.error){let e=new FormData;e.append("user",$("#user").val()),e.append("email",$("#email").val()),e.append("password",""),this.postModel("getUser",e).pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>{e.length>0?(this.spinner.hide(),$("input").val(""),this.msg="El usuario ya se encuentra registrado",$(".warning").show()):(this.spinner.hide(),this.modalConfirmar("Registrar usuario","\xbf Esta seguro de continuar con la informaci\xf3n diligenciada ?"))})}1==this.error&&($(".error").show(),this.spinner.hide())}confirmarRegistro(){var e=this;if(0==e.proceso){e.spinner.show(),e.proceso=!0;let t=new FormData;t.append("active","1"),t.append("user",$("#user").val()),t.append("email",$("#email").val()),t.append("password",$("#password").val()),t.append("profile",$("#perfil").val()),this.postModel("createUser",t).pipe(Object(a.a)(this.unsubscribe$)).subscribe(t=>{this.msg="Se registro el usuario correctamente",$(".success").show(),sessionStorage.setItem("email",$("#email").val()),sessionStorage.setItem("user",$("#user").val()),sessionStorage.setItem("profile",$("#perfil").val()),setTimeout(function(){e.spinner.hide(),$(".modalConfirm").modal("hide"),$(".success").hide(),$("input").val(""),e.appComponent.validateAuth(),e.router.navigateByUrl("home")},2e3)})}}}return e.\u0275fac=function(t){return new(t||e)(p.Kb(b.a),p.Kb(d.c),p.Kb(u.a),p.Kb(s.g))},e.\u0275cmp=p.Eb({type:e,selectors:[["app-register"]],decls:48,vars:4,consts:[[3,"fullscreen"],["id","container"],[1,"label-txt"],["type","text","id","user",1,"input"],[1,"line-box"],[1,"line"],["type","text","id","email",1,"input"],["type","password","id","password",1,"input"],["type","password","id","passwordConfirm",1,"input"],["id","perfil",1,"input"],["value","abogado"],["value","cliente"],["type","checkbox","id","termsCliente",1,"input"],[3,"click"],["role","alert",1,"informacion","success","alert-primary"],["role","alert",1,"informacion","warning","alert-warning"],["role","alert",1,"informacion","error","alert-danger"]],template:function(e,t){1&e&&(p.Pb(0,"ion-content",0),p.Pb(1,"div",1),p.Pb(2,"form"),p.Pb(3,"label"),p.Pb(4,"p",2),p.Hc(5,"Usuario (*):"),p.Ob(),p.Lb(6,"input",3),p.Pb(7,"div",4),p.Lb(8,"div",5),p.Ob(),p.Ob(),p.Pb(9,"label"),p.Pb(10,"p",2),p.Hc(11,"Correo Electr\xf3nico (*):"),p.Ob(),p.Lb(12,"input",6),p.Pb(13,"div",4),p.Lb(14,"div",5),p.Ob(),p.Ob(),p.Pb(15,"label"),p.Pb(16,"p",2),p.Hc(17,"Contrase\xf1a (*):"),p.Ob(),p.Lb(18,"input",7),p.Pb(19,"div",4),p.Lb(20,"div",5),p.Ob(),p.Ob(),p.Pb(21,"label"),p.Pb(22,"p",2),p.Hc(23,"Confirmar Contrase\xf1a (*):"),p.Ob(),p.Lb(24,"input",8),p.Pb(25,"div",4),p.Lb(26,"div",5),p.Ob(),p.Ob(),p.Pb(27,"label"),p.Pb(28,"p",2),p.Hc(29,"Perfil (*):"),p.Ob(),p.Pb(30,"select",9),p.Pb(31,"option",10),p.Hc(32,"Abogado"),p.Ob(),p.Pb(33,"option",11),p.Hc(34,"Cliente"),p.Ob(),p.Ob(),p.Pb(35,"div",4),p.Lb(36,"div",5),p.Ob(),p.Ob(),p.Pb(37,"label"),p.Lb(38,"input",12),p.Hc(39," \xa0 Acepta los t\xe9rminos y condiciones(*): "),p.Ob(),p.Pb(40,"button",13),p.ac("click",function(){return t.registerUser()}),p.Hc(41,"Registrarse"),p.Ob(),p.Pb(42,"div",14),p.Hc(43),p.Ob(),p.Pb(44,"div",15),p.Hc(45),p.Ob(),p.Pb(46,"div",16),p.Hc(47),p.Ob(),p.Ob(),p.Ob(),p.Ob()),2&e&&(p.jc("fullscreen",!0),p.yb(43),p.Jc(" ",t.msg," "),p.yb(2),p.Jc(" ",t.msg," "),p.yb(2),p.Jc(" ",t.msg," "))},directives:[r.d,o.i,o.e,o.f,o.g,o.h],styles:["body[_ngcontent-%COMP%]{background:#c5e1a5}form[_ngcontent-%COMP%]{width:60%;margin:60px auto;background:#efefef;padding:60px 120px 80px;text-align:center;box-shadow:2px 2px 3px rgba(0,0,0,.1)}label[_ngcontent-%COMP%]{display:block;position:relative;margin:40px 0}button[_ngcontent-%COMP%]{margin-bottom:3%}.label-txt[_ngcontent-%COMP%]{position:absolute;top:-1.6em;padding:10px;font-family:sans-serif;font-size:.8em;letter-spacing:1px;color:#787878;transition:.3s ease}.input[_ngcontent-%COMP%]{width:100%;padding:10px;background:transparent;border:none;outline:none}.line-box[_ngcontent-%COMP%]{position:relative;width:100%;height:2px;background:#bcbcbc}.line[_ngcontent-%COMP%]{position:absolute;width:0;height:2px;top:0;left:50%;transform:translateX(-50%);background:#0b1b3b;transition:.6s ease}.input[_ngcontent-%COMP%]:focus + .line-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%}.label-active[_ngcontent-%COMP%]{top:-3em}button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;background:#dcdcdc;font-weight:700;color:#787878;border:none;outline:none;border-radius:3px;cursor:pointer;transition:.3s ease}button[_ngcontent-%COMP%]:hover{background:#0b1b3b;color:#fff}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(m)],s.i]}),e})(),h=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,r.i,g]]}),e})()}}]);