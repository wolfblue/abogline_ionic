(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{pBVZ:function(o,n,e){"use strict";e.r(n),e.d(n,"SolicitarDocumentacionPageModule",function(){return P});var i=e("ofXK"),t=e("3Pt+"),a=e("TEn/"),c=e("tyNb"),s=e("1G5W"),r=e("XNiG"),p=e("AytR"),b=e("fXoL"),l=e("tk/3"),d=e("JqCM");function u(o,n){if(1&o&&(b.Pb(0,"option",12),b.Hc(1),b.Ob()),2&o){const o=b.cc().$implicit;b.kc("value",o.id),b.yb(1),b.Ic(o.id)}}function g(o,n){if(1&o&&(b.Nb(0),b.Fc(1,u,2,2,"option",11),b.Mb()),2&o){const o=n.$implicit;b.yb(1),b.jc("ngIf","registrado"!=o.estado)}}const f=[{path:"",component:(()=>{class o{constructor(o,n){this.http=o,this.spinner=n,this.unsubscribe$=new r.a,this.casos=[],this.pagosPendientes=[],this.getInfoPage()}ngOnInit(){$("#fechaAgendar").prop("min",(new Date).toISOString().split("T")[0]+"T00:00:00")}postModel(o,n){return this.http.post(""+p.a.apiUrl+o,n)}getInfoPage(){var o=this;let n=new FormData;n.append("usuario",sessionStorage.getItem("usuario")),n.append("perfil",sessionStorage.getItem("perfil")),o.postModel("apiAboglineAgendarGetInfo",n).pipe(Object(s.a)(o.unsubscribe$)).subscribe(n=>{n.length>0&&(o.casos=n[0].casos,o.pagosPendientes=n[0].pagosPendientes)})}solicitar(){var o=this,n=0,e="";$("#idCaso").val()||(n=1,e="Es obligatorio seleccionar el caso"),$("#tipoInformacion").val()||(n=1,e="Es obligatorio seleccionar el tipo de informaci\xf3n"),$("#observacion").val()||(n=1,e="Es obligatorio digitar la observaci\xf3n");for(var i=0;i<o.pagosPendientes.length;i++)o.pagosPendientes[i].id_caso==$("#idCaso").val()&&(n=1,e="El caso tiene un pago pendiente por lo tanto no se puede a\xfan realizar agendamientos");if(0==n){let n=new FormData;n.append("idCaso",$("#idCaso").val()),n.append("tipoInformacion",$("#tipoInformacion").val()),n.append("observacion",$("#observacion").val()),n.append("usuario",sessionStorage.getItem("usuario")),o.postModel("apiAboglineSolicitarDocumentacion",n).pipe(Object(s.a)(o.unsubscribe$)).subscribe(o=>{window.location.href="/home"})}1==n&&$("#mensaje").html(e)}}return o.\u0275fac=function(n){return new(n||o)(b.Kb(l.a),b.Kb(d.c))},o.\u0275cmp=b.Eb({type:o,selectors:[["app-solicitar-documentacion"]],decls:29,vars:2,consts:[[3,"fullscreen"],[1,"contenido"],["id","idCaso"],["value",""],[4,"ngFor","ngForOf"],["id","tipoInformacion"],["value","Documento"],["value","Informacion general"],["id","observacion"],[3,"click"],["id","mensaje"],[3,"value",4,"ngIf"],[3,"value"]],template:function(o,n){1&o&&(b.Pb(0,"ion-content",0),b.Pb(1,"div",1),b.Pb(2,"h3"),b.Hc(3,"Solicitar documentaci\xf3n"),b.Ob(),b.Pb(4,"div"),b.Pb(5,"p"),b.Hc(6,"Seleccionar caso (*):"),b.Ob(),b.Pb(7,"select",2),b.Pb(8,"option",3),b.Hc(9,"- Seleccionar -"),b.Ob(),b.Fc(10,g,2,1,"ng-container",4),b.Ob(),b.Ob(),b.Pb(11,"div"),b.Pb(12,"p"),b.Hc(13,"Seleccionar tipo de informaci\xf3n (*):"),b.Ob(),b.Pb(14,"select",5),b.Pb(15,"option",3),b.Hc(16,"- Seleccionar -"),b.Ob(),b.Pb(17,"option",6),b.Hc(18,"Documento"),b.Ob(),b.Pb(19,"option",7),b.Hc(20,"Informaci\xf3n general"),b.Ob(),b.Ob(),b.Ob(),b.Pb(21,"div"),b.Pb(22,"p"),b.Hc(23,"Descripci\xf3n de la informaci\xf3n solicitada (*):"),b.Ob(),b.Lb(24,"textarea",8),b.Ob(),b.Pb(25,"p"),b.Pb(26,"button",9),b.ac("click",function(){return n.solicitar()}),b.Hc(27,"Solicitar"),b.Ob(),b.Ob(),b.Lb(28,"p",10),b.Ob(),b.Ob()),2&o&&(b.jc("fullscreen",!0),b.yb(10),b.jc("ngForOf",n.casos))},directives:[a.b,t.g,t.h,i.m,i.n],styles:["button[_ngcontent-%COMP%]{margin-top:2%}p[_ngcontent-%COMP%]{margin-top:1%}#mensaje[_ngcontent-%COMP%]{color:red}"]}),o})()}];let m=(()=>{class o{}return o.\u0275mod=b.Ib({type:o}),o.\u0275inj=b.Hb({factory:function(n){return new(n||o)},imports:[[c.i.forChild(f)],c.i]}),o})(),P=(()=>{class o{}return o.\u0275mod=b.Ib({type:o}),o.\u0275inj=b.Hb({factory:function(n){return new(n||o)},imports:[[i.c,t.a,a.g,m]]}),o})()}}]);