(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{LPFh:function(t,i,c){"use strict";c.r(i),c.d(i,"SolicitudesPageModule",function(){return m});var o=c("ofXK"),e=c("3Pt+"),n=c("TEn/"),s=c("tyNb"),b=c("1G5W"),r=c("XNiG"),u=c("AytR"),a=c("fXoL"),d=c("tk/3"),l=c("JqCM");function p(t,i){if(1&t){const t=a.Qb();a.Pb(0,"button",6),a.ac("click",function(){a.yc(t);const i=a.cc().$implicit;return a.cc().aceptarSolicitud(i.id)}),a.Hc(1,"Aceptar solicitud"),a.Ob()}}function f(t,i){if(1&t){const t=a.Qb();a.Pb(0,"button",6),a.ac("click",function(){a.yc(t);const i=a.cc().$implicit;return a.cc().rechazarSolicitud(i.id)}),a.Hc(1,"Rechazar solicitud"),a.Ob()}}function h(t,i){if(1&t){const t=a.Qb();a.Pb(0,"button",6),a.ac("click",function(){a.yc(t);const i=a.cc().$implicit;return a.cc().responderDocumentos(i.id)}),a.Hc(1,"Responder"),a.Ob()}}function O(t,i){if(1&t&&(a.Nb(0),a.Pb(1,"tr"),a.Pb(2,"td"),a.Hc(3),a.Ob(),a.Pb(4,"td"),a.Hc(5),a.Ob(),a.Pb(6,"td"),a.Hc(7),a.Ob(),a.Pb(8,"td"),a.Hc(9),a.Ob(),a.Pb(10,"td"),a.Fc(11,p,2,0,"button",5),a.Fc(12,f,2,0,"button",5),a.Fc(13,h,2,0,"button",5),a.Ob(),a.Ob(),a.Mb()),2&t){const t=i.$implicit;a.yb(3),a.Ic(t.id_caso),a.yb(2),a.Ic(t.solicita),a.yb(2),a.Ic(t.descripcion),a.yb(2),a.Ic(t.fecha),a.yb(2),a.jc("ngIf","documentos"!=t.tipo),a.yb(1),a.jc("ngIf","documentos"!=t.tipo),a.yb(1),a.jc("ngIf","documentos"==t.tipo)}}const P=[{path:"",component:(()=>{class t{constructor(t,i){this.http=t,this.spinner=i,this.unsubscribe$=new r.a,this.usuario=sessionStorage.getItem("usuario"),this.perfil=sessionStorage.getItem("perfil"),this.solicitudes=[],this.getInfoPage()}ngOnInit(){}postModel(t,i){return this.http.post(""+u.a.apiUrl+t,i)}getInfoPage(){var t=this;let i=new FormData;i.append("usuario",t.usuario),t.postModel("apiAboglineSolicitudesGetInfo",i).pipe(Object(b.a)(t.unsubscribe$)).subscribe(i=>{i.length>0&&(t.solicitudes=i[0].solicitudes),$("#solicitudes").DataTable()})}aceptarSolicitud(t){let i=new FormData;i.append("idSolicitud",t),this.postModel("apiAboglineSolicitudesAprobar",i).pipe(Object(b.a)(this.unsubscribe$)).subscribe(t=>{window.location.href="/solicitudes"})}rechazarSolicitud(t){let i=new FormData;i.append("idSolicitud",t),this.postModel("apiAboglineSolicitudesRechazar",i).pipe(Object(b.a)(this.unsubscribe$)).subscribe(t=>{window.location.href="/solicitudes"})}responderDocumentos(t){window.location.href="/cargar-documentacion"}}return t.\u0275fac=function(i){return new(i||t)(a.Kb(d.a),a.Kb(l.c))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-solicitudes"]],decls:19,vars:2,consts:[[3,"fullscreen"],[1,"contenido"],["id","solicitudes","width","100%"],["width","7%"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,i){1&t&&(a.Pb(0,"ion-content",0),a.Pb(1,"div",1),a.Pb(2,"h3"),a.Hc(3,"Solicitudes"),a.Ob(),a.Pb(4,"table",2),a.Pb(5,"thead"),a.Pb(6,"tr"),a.Pb(7,"th",3),a.Hc(8,"Caso"),a.Ob(),a.Pb(9,"th"),a.Hc(10,"Quien solicita"),a.Ob(),a.Pb(11,"th"),a.Hc(12,"Tipo de solicitud"),a.Ob(),a.Pb(13,"th"),a.Hc(14,"Fecha de solicitud"),a.Ob(),a.Pb(15,"th"),a.Hc(16,"Acciones"),a.Ob(),a.Ob(),a.Ob(),a.Pb(17,"tbody"),a.Fc(18,O,14,7,"ng-container",4),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&t&&(a.jc("fullscreen",!0),a.yb(18),a.jc("ngForOf",i.solicitudes))},directives:[n.b,o.m,o.n],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid;padding:1%}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(P)],s.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(i){return new(i||t)},imports:[[o.c,e.a,n.g,g]]}),t})()}}]);