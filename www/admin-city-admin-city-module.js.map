{"version":3,"sources":["./src/app/admin-city/admin-city.page.scss","./src/app/admin-city/admin-city.module.ts","./src/app/admin-city/admin-city.page.html","./src/app/admin-city/admin-city-routing.module.ts","./src/app/admin-city/admin-city.page.ts"],"names":[],"mappings":"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","file":"admin-city-admin-city-module.js","sourcesContent":["export default \"h3 {\\n  margin-top: 3%;\\n}\\n\\n#tableDT {\\n  margin-top: 8%;\\n}\\n\\n.addBtn {\\n  float: right;\\n}\\n\\n.center {\\n  text-align: center;\\n}\\n\\n.btnDelete {\\n  margin-left: 2%;\\n}\\n\\n.msg {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGFkbWluLWNpdHkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtBQUNKOztBQUVBO0VBQ0ksWUFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7QUFDSiIsImZpbGUiOiJhZG1pbi1jaXR5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImgze1xyXG4gICAgbWFyZ2luLXRvcDozJTtcclxufVxyXG5cclxuI3RhYmxlRFR7XHJcbiAgICBtYXJnaW4tdG9wOjglO1xyXG59XHJcblxyXG4uYWRkQnRue1xyXG4gICAgZmxvYXQ6cmlnaHQ7XHJcbn1cclxuXHJcbi5jZW50ZXJ7XHJcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcclxufVxyXG5cclxuLmJ0bkRlbGV0ZXtcclxuICAgIG1hcmdpbi1sZWZ0OjIlO1xyXG59XHJcblxyXG4ubXNne1xyXG4gICAgZGlzcGxheTpub25lO1xyXG59Il19 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminCityPageRoutingModule } from './admin-city-routing.module';\n\nimport { AdminCityPage } from './admin-city.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AdminCityPageRoutingModule\n  ],\n  declarations: [AdminCityPage]\n})\nexport class AdminCityPageModule {}\n","export default \"<div class=\\\"container\\\">\\n\\n  <h3>Administrar Ciudades</h3>\\n\\n  <button class=\\\"btn btn-primary addBtn\\\" type=\\\"submit\\\" (click)=\\\"addCiudad()\\\">Agregar Ciudad</button>\\n\\n  <table id=\\\"tableDT\\\" class=\\\"table table-striped table-bordered\\\" style=\\\"width:100%\\\">\\n\\n    <thead>\\n      <tr>\\n        <th class=\\\"center\\\">Ciudad</th>\\n        <th class=\\\"center\\\">Acciones</th>\\n      </tr>\\n    </thead>\\n\\n    <tbody>\\n\\n      <tr *ngFor=\\\"let item of ciudades\\\">\\n        <td>{{item.ciudad}}</td>\\n        <td class=\\\"center\\\">\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"red\\\" class=\\\"bi bi-trash\\\" viewBox=\\\"0 0 16 16\\\" (click)=\\\"deleteCiudad(item.ciudad)\\\">\\n            <path d=\\\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\\\"/>\\n            <path fill-rule=\\\"evenodd\\\" d=\\\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\\\"/>\\n          </svg>\\n        </td>\\n      </tr>\\n\\n    </tbody>\\n\\n  </table>\\n\\n</div>\\n\\n<!--  MODAL REGISTER -->\\n\\n<ng-template #modalRegister let-modal>\\n\\n  <div class=\\\"modal-body\\\">\\n      \\n    <form>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"ciudad\\\">Ciudad</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"ciudad\\\" aria-describedby=\\\"emailHelp\\\" placeholder=\\\"Ingresar ciudad\\\">\\n        <small id=\\\"ciudadHelp\\\" class=\\\"form-text text-muted\\\">Ingresar nombre de la ciudad.</small>\\n      </div>\\n      <p class=\\\"msg\\\"></p>\\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"formRegister()\\\">Agregar ciudad</button>\\n    </form>\\n\\n  </div>\\n\\n</ng-template>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminCityPage } from './admin-city.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminCityPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AdminCityPageRoutingModule {}\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport {Router} from '@angular/router';\nimport { Subject } from 'rxjs';\nimport {HttpClient} from \"@angular/common/http\";\nimport { environment } from '../../environments/environment';\nimport {NgbModal, NgbModalRef} from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from \"ngx-spinner\";\n\ndeclare var $;\n\n@Component({\n  selector: 'app-admin-city',\n  templateUrl: './admin-city.page.html',\n  styleUrls: ['./admin-city.page.scss'],\n})\nexport class AdminCityPage implements OnInit {\n\n  @ViewChild(\"modalRegister\", {static: false}) modalRegister: TemplateRef<any>;\n\n  private unsubscribe$ = new Subject<void>();\n\n  modal : NgbModalRef;\n\n  ciudades:any = [];\n\n  constructor(\n    private http:HttpClient,\n    private router: Router,\n    private modalService: NgbModal,\n    private spinner: NgxSpinnerService\n  ) {\n\n    //  Obtener ciudades\n    this.getCiudades();\n\n  }\n\n  ngOnInit() {\n  }\n\n  postModel(Metodo: string, data: FormData) {\n    let url = `${environment.apiUrl}` + Metodo;\n    return this.http.post(url, data);\n  }\n\n  /**************************************************************************** */\n  //  MODAL\n  /**************************************************************************** */\n\n  open(content) {\n    this.modal = this.modalService.open(content, { centered: true, backdropClass: 'light-blue-backdrop' })    \n    this.modal.result.then((e) => {\n        console.log(\"dialogo cerrado\")\n    });        \n  }\n\n  /************************************************************************************* */\n  //  Actualizar\n  /************************************************************************************* */\n\n  addCiudad(){\n\n    //  Variables iniciales\n    var _this = this;\n\n    // Abrir modal\n    _this.open(_this.modalRegister);\n\n  }\n\n  /************************************************************************************* */\n  //  Form register\n  /************************************************************************************* */\n\n  formRegister(){\n\n    //  Variables iniciales\n\n    var _this = this;\n    var error = 0;\n    var msgError = \"\";\n\n    var ciudad = $(\"#ciudad\").val();\n\n    //  Spinner\n    _this.spinner.show();\n\n    //  Validar campos obligatorios\n\n    if(!ciudad){\n\n      error = 1;\n      msgError = \"El campo ciudad es obligatorio.\";\n\n    }\n\n    //  Mostrar errores\n\n    if(error == 1){\n\n      $(\".msg\").css(\"color\",\"red\");\n      $(\".msg\").html(msgError);\n      $(\".msg\").show();\n\n      setTimeout(function(){\n        $(\".msg\").hide();\n      },3000);\n      \n\n    }\n\n    //  Registrar ciudad\n\n    if(error == 0){\n\n      let apiAdminCiudadRegister = new FormData();\n\n      apiAdminCiudadRegister.append(\"ciudad\",ciudad);\n\n      _this.postModel(\"apiAdminCiudadRegister\",apiAdminCiudadRegister).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n\n        //  Spinner\n        _this.spinner.hide();\n\n        $(\".msg\").css(\"color\",\"green\");\n        $(\".msg\").html(\"Se registro la ciudad correctamente.\");\n        $(\".msg\").show();\n\n        setTimeout(function(){\n\n          $(\".msg\").hide();\n          _this.modal.close();\n\n          //  Limpiar campos\n\n          $(\".ciudad\").val(\"\");\n\n          //  Consultar ciudades\n          _this.getCiudades();\n\n        },3000);\n\n      });\n\n    }\n\n  }\n\n  /************************************************************************************* */\n  //  Consultar ciudades\n  /************************************************************************************* */\n\n  getCiudades(){\n\n    //  Variables iniciales\n    var _this = this;\n\n    //  Spinner\n    _this.spinner.show();\n\n    //  Consultar ciudades\n\n    let apiAdminCiudadGet = new FormData();\n\n    _this.postModel(\"apiAdminCiudadGet\",apiAdminCiudadGet).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n\n      //  Spinner\n      _this.spinner.hide();\n\n      _this.ciudades = result;\n\n      setTimeout(function(){\n        $('#tableDT').DataTable();\n      });\n\n    });\n\n  }\n\n  /************************************************************************************* */\n  //  Eliminar ciudad\n  /************************************************************************************* */\n\n  deleteCiudad(ciudad){\n\n    //  Variables iniciales\n\n    var _this = this;\n\n    //  Spinner\n    _this.spinner.show();\n\n    //  Consultar ciudades\n\n    let apiAdminCiudadDelete = new FormData();\n\n    apiAdminCiudadDelete.append(\"ciudad\",ciudad);\n\n    _this.postModel(\"apiAdminCiudadDelete\",apiAdminCiudadDelete).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n\n      //  Spinner\n      _this.spinner.hide();\n\n      //  Consultar ciudades\n      _this.getCiudades();\n\n    });\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}