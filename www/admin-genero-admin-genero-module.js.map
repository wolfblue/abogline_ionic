{"version":3,"sources":["./src/app/admin-genero/admin-genero.module.ts","./src/app/admin-genero/admin-genero.page.scss","./src/app/admin-genero/admin-genero.page.html","./src/app/admin-genero/admin-genero-routing.module.ts","./src/app/admin-genero/admin-genero.page.ts"],"names":[],"mappings":"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","file":"admin-genero-admin-genero-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminGeneroPageRoutingModule } from './admin-genero-routing.module';\n\nimport { AdminGeneroPage } from './admin-genero.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AdminGeneroPageRoutingModule\n  ],\n  declarations: [AdminGeneroPage]\n})\nexport class AdminGeneroPageModule {}\n","export default \"h3 {\\n  margin-top: 3%;\\n}\\n\\n#tableDT {\\n  margin-top: 8%;\\n}\\n\\n.addBtn {\\n  float: right;\\n}\\n\\n.center {\\n  text-align: center;\\n}\\n\\n.btnDelete {\\n  margin-left: 2%;\\n}\\n\\n.msg {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGFkbWluLWdlbmVyby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxZQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtBQUNKIiwiZmlsZSI6ImFkbWluLWdlbmVyby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoM3tcclxuICAgIG1hcmdpbi10b3A6MyU7XHJcbn1cclxuXHJcbiN0YWJsZURUe1xyXG4gICAgbWFyZ2luLXRvcDo4JTtcclxufVxyXG5cclxuLmFkZEJ0bntcclxuICAgIGZsb2F0OnJpZ2h0O1xyXG59XHJcblxyXG4uY2VudGVye1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbn1cclxuXHJcbi5idG5EZWxldGV7XHJcbiAgICBtYXJnaW4tbGVmdDoyJTtcclxufVxyXG5cclxuLm1zZ3tcclxuICAgIGRpc3BsYXk6bm9uZTtcclxufSJdfQ== */\";","export default \"<div class=\\\"container\\\">\\n\\n  <h3>Administrar Generos</h3>\\n\\n  <button class=\\\"btn btn-primary addBtn\\\" type=\\\"submit\\\" (click)=\\\"addGenero()\\\">Agregar Genero</button>\\n\\n  <table id=\\\"tableDT\\\" class=\\\"table table-striped table-bordered\\\" style=\\\"width:100%\\\">\\n\\n    <thead>\\n      <tr>\\n        <th class=\\\"center\\\">Genero</th>\\n        <th class=\\\"center\\\">Acciones</th>\\n      </tr>\\n    </thead>\\n\\n    <tbody>\\n\\n      <tr *ngFor=\\\"let item of generos\\\">\\n        <td>{{item.genero}}</td>\\n        <td class=\\\"center\\\">\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"red\\\" class=\\\"bi bi-trash\\\" viewBox=\\\"0 0 16 16\\\" (click)=\\\"deleteGenero(item.genero)\\\">\\n            <path d=\\\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\\\"/>\\n            <path fill-rule=\\\"evenodd\\\" d=\\\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\\\"/>\\n          </svg>\\n        </td>\\n      </tr>\\n\\n    </tbody>\\n\\n  </table>\\n\\n</div>\\n\\n<!--  MODAL REGISTER -->\\n\\n<ng-template #modalRegister let-modal>\\n\\n  <div class=\\\"modal-body\\\">\\n      \\n    <form>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"genero\\\">Genero</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"genero\\\" aria-describedby=\\\"emailHelp\\\" placeholder=\\\"Ingresar genero\\\">\\n        <small id=\\\"generoHelp\\\" class=\\\"form-text text-muted\\\">Ingresar nombre del genero.</small>\\n      </div>\\n      <p class=\\\"msg\\\"></p>\\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"formRegister()\\\">Agregar genero</button>\\n    </form>\\n\\n  </div>\\n\\n</ng-template>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminGeneroPage } from './admin-genero.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminGeneroPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AdminGeneroPageRoutingModule {}\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport {Router} from '@angular/router';\nimport { Subject } from 'rxjs';\nimport {HttpClient} from \"@angular/common/http\";\nimport { environment } from '../../environments/environment';\nimport {NgbModal, NgbModalRef} from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from \"ngx-spinner\";\n\ndeclare var $;\n\n@Component({\n  selector: 'app-admin-genero',\n  templateUrl: './admin-genero.page.html',\n  styleUrls: ['./admin-genero.page.scss'],\n})\nexport class AdminGeneroPage implements OnInit {\n\n  @ViewChild(\"modalRegister\", {static: false}) modalRegister: TemplateRef<any>;\n\n  private unsubscribe$ = new Subject<void>();\n\n  modal : NgbModalRef;\n\n  generos:any = [];\n\n  constructor(\n    private http:HttpClient,\n    private router: Router,\n    private modalService: NgbModal,\n    private spinner: NgxSpinnerService\n  ) { \n\n    //  Obtener generos\n    this.getGeneros();\n\n  }\n\n  ngOnInit() {\n  }\n\n  postModel(Metodo: string, data: FormData) {\n    let url = `${environment.apiUrl}` + Metodo;\n    return this.http.post(url, data);\n  }\n\n  /**************************************************************************** */\n  //  MODAL\n  /**************************************************************************** */\n\n  open(content) {\n    this.modal = this.modalService.open(content, { centered: true, backdropClass: 'light-blue-backdrop' })    \n    this.modal.result.then((e) => {\n        console.log(\"dialogo cerrado\")\n    });        \n  }\n\n  /************************************************************************************* */\n  //  Actualizar\n  /************************************************************************************* */\n\n  addGenero(){\n\n    //  Variables iniciales\n    var _this = this;\n\n    // Abrir modal\n    _this.open(_this.modalRegister);\n\n  }\n\n  /************************************************************************************* */\n  //  Form register\n  /************************************************************************************* */\n\n  formRegister(){\n\n    //  Variables iniciales\n\n    var _this = this;\n    var error = 0;\n    var msgError = \"\";\n\n    var genero = $(\"#genero\").val();\n\n    //  Spinner\n    _this.spinner.show();\n\n    //  Validar campos obligatorios\n\n    if(!genero){\n\n      error = 1;\n      msgError = \"El campo genero es obligatorio.\";\n\n    }\n\n    //  Mostrar errores\n\n    if(error == 1){\n\n      $(\".msg\").css(\"color\",\"red\");\n      $(\".msg\").html(msgError);\n      $(\".msg\").show();\n\n      setTimeout(function(){\n        $(\".msg\").hide();\n      },3000);\n      \n\n    }\n\n    //  Registrar genero\n\n    if(error == 0){\n\n      let apiAdminGeneroRegister = new FormData();\n\n      apiAdminGeneroRegister.append(\"genero\",genero);\n\n      _this.postModel(\"apiAdminGeneroRegister\",apiAdminGeneroRegister).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n\n        //  Spinner\n        _this.spinner.hide();\n\n        $(\".msg\").css(\"color\",\"green\");\n        $(\".msg\").html(\"Se registro el genero correctamente.\");\n        $(\".msg\").show();\n\n        setTimeout(function(){\n\n          $(\".msg\").hide();\n          _this.modal.close();\n\n          //  Limpiar campos\n\n          $(\".genero\").val(\"\");\n\n          //  Consultar generos\n          _this.getGeneros();\n\n        },3000);\n\n      });\n\n    }\n\n  }\n\n  /************************************************************************************* */\n  //  Consultar generos\n  /************************************************************************************* */\n\n  getGeneros(){\n\n    //  Variables iniciales\n    var _this = this;\n\n    //  Spinner\n    _this.spinner.show();\n\n    //  Consultar generos\n\n    let apiAdminGeneroGet = new FormData();\n\n    _this.postModel(\"apiAdminGeneroGet\",apiAdminGeneroGet).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n\n      //  Spinner\n      _this.spinner.hide();\n\n      _this.generos = result;\n\n      setTimeout(function(){\n        $('#tableDT').DataTable();\n      });\n\n    });\n\n  }\n\n  /************************************************************************************* */\n  //  Eliminar genero\n  /************************************************************************************* */\n\n  deleteGenero(genero){\n\n    //  Variables iniciales\n\n    var _this = this;\n\n    //  Spinner\n    _this.spinner.show();\n\n    //  Consultar generos\n\n    let apiAdminGeneroDelete = new FormData();\n\n    apiAdminGeneroDelete.append(\"genero\",genero);\n\n    _this.postModel(\"apiAdminGeneroDelete\",apiAdminGeneroDelete).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n\n      //  Spinner\n      _this.spinner.hide();\n\n      //  Consultar generos\n      _this.getGeneros();\n\n    });\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}