{"version":3,"sources":["./src/app/admin-municipio/admin-municipio.page.scss","./src/app/admin-municipio/admin-municipio.page.html","./src/app/admin-municipio/admin-municipio-routing.module.ts","./src/app/admin-municipio/admin-municipio.page.ts","./src/app/admin-municipio/admin-municipio.module.ts"],"names":[],"mappings":"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","file":"admin-municipio-admin-municipio-module.js","sourcesContent":["export default \"h3 {\\n  margin-top: 3%;\\n}\\n\\n#tableDT {\\n  margin-top: 8%;\\n}\\n\\n.addBtn {\\n  float: right;\\n}\\n\\n.center {\\n  text-align: center;\\n}\\n\\n.btnDelete {\\n  margin-left: 2%;\\n}\\n\\n.msg {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGFkbWluLW11bmljaXBpby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxZQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtBQUNKIiwiZmlsZSI6ImFkbWluLW11bmljaXBpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoM3tcclxuICAgIG1hcmdpbi10b3A6MyU7XHJcbn1cclxuXHJcbiN0YWJsZURUe1xyXG4gICAgbWFyZ2luLXRvcDo4JTtcclxufVxyXG5cclxuLmFkZEJ0bntcclxuICAgIGZsb2F0OnJpZ2h0O1xyXG59XHJcblxyXG4uY2VudGVye1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbn1cclxuXHJcbi5idG5EZWxldGV7XHJcbiAgICBtYXJnaW4tbGVmdDoyJTtcclxufVxyXG5cclxuLm1zZ3tcclxuICAgIGRpc3BsYXk6bm9uZTtcclxufSJdfQ== */\";","export default \"<div class=\\\"container\\\">\\n\\n  <h3>Administrar Municipios</h3>\\n\\n  <button class=\\\"btn btn-primary addBtn\\\" type=\\\"submit\\\" (click)=\\\"addMunicipio()\\\">Agregar Municipio</button>\\n\\n  <table id=\\\"tableDT\\\" class=\\\"table table-striped table-bordered\\\" style=\\\"width:100%\\\">\\n\\n    <thead>\\n      <tr>\\n        <th class=\\\"center\\\">Municipio</th>\\n        <th class=\\\"center\\\">Acciones</th>\\n      </tr>\\n    </thead>\\n\\n    <tbody>\\n\\n      <tr *ngFor=\\\"let item of municipios\\\">\\n        <td>{{item.municipio}}</td>\\n        <td class=\\\"center\\\">\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"red\\\" class=\\\"bi bi-trash\\\" viewBox=\\\"0 0 16 16\\\" (click)=\\\"deleteMunicipio(item.municipio)\\\">\\n            <path d=\\\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\\\"/>\\n            <path fill-rule=\\\"evenodd\\\" d=\\\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\\\"/>\\n          </svg>\\n        </td>\\n      </tr>\\n\\n    </tbody>\\n\\n  </table>\\n\\n</div>\\n\\n<!--  MODAL REGISTER -->\\n\\n<ng-template #modalRegister let-modal>\\n\\n  <div class=\\\"modal-body\\\">\\n      \\n    <form>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"municipio\\\">Municipio</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"municipio\\\" aria-describedby=\\\"emailHelp\\\" placeholder=\\\"Ingresar municipio\\\">\\n        <small id=\\\"municipioHelp\\\" class=\\\"form-text text-muted\\\">Ingresar nombre de la municipio.</small>\\n      </div>\\n      <p class=\\\"msg\\\"></p>\\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"formRegister()\\\">Agregar municipio</button>\\n    </form>\\n\\n  </div>\\n\\n</ng-template>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminMunicipioPage } from './admin-municipio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminMunicipioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AdminMunicipioPageRoutingModule {}\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport {Router} from '@angular/router';\nimport { Subject } from 'rxjs';\nimport {HttpClient} from \"@angular/common/http\";\nimport { environment } from '../../environments/environment';\nimport {NgbModal, NgbModalRef} from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from \"ngx-spinner\";\n\ndeclare var $;\n\n@Component({\n  selector: 'app-admin-municipio',\n  templateUrl: './admin-municipio.page.html',\n  styleUrls: ['./admin-municipio.page.scss'],\n})\nexport class AdminMunicipioPage implements OnInit {\n\n    @ViewChild(\"modalRegister\", {static: false}) modalRegister: TemplateRef<any>;\n  \n    private unsubscribe$ = new Subject<void>();\n  \n    modal : NgbModalRef;\n  \n    municipios:any = [];\n  \n    constructor(\n      private http:HttpClient,\n      private router: Router,\n      private modalService: NgbModal,\n      private spinner: NgxSpinnerService\n    ) {\n  \n      //  Obtener municipios\n      this.getMunicipios();\n  \n    }\n  \n    ngOnInit() {\n    }\n  \n    postModel(Metodo: string, data: FormData) {\n      let url = `${environment.apiUrl}` + Metodo;\n      return this.http.post(url, data);\n    }\n  \n    /**************************************************************************** */\n    //  MODAL\n    /**************************************************************************** */\n  \n    open(content) {\n      this.modal = this.modalService.open(content, { centered: true, backdropClass: 'light-blue-backdrop' })    \n      this.modal.result.then((e) => {\n          console.log(\"dialogo cerrado\")\n      });        \n    }\n  \n    /************************************************************************************* */\n    //  Actualizar\n    /************************************************************************************* */\n  \n    addMunicipio(){\n  \n      //  Variables iniciales\n      var _this = this;\n  \n      // Abrir modal\n      _this.open(_this.modalRegister);\n  \n    }\n  \n    /************************************************************************************* */\n    //  Form register\n    /************************************************************************************* */\n  \n    formRegister(){\n  \n      //  Variables iniciales\n  \n      var _this = this;\n      var error = 0;\n      var msgError = \"\";\n  \n      var municipio = $(\"#municipio\").val();\n  \n      //  Spinner\n      _this.spinner.show();\n  \n      //  Validar campos obligatorios\n  \n      if(!municipio){\n  \n        error = 1;\n        msgError = \"El campo municipio es obligatorio.\";\n  \n      }\n  \n      //  Mostrar errores\n  \n      if(error == 1){\n  \n        $(\".msg\").css(\"color\",\"red\");\n        $(\".msg\").html(msgError);\n        $(\".msg\").show();\n  \n        setTimeout(function(){\n          $(\".msg\").hide();\n        },3000);\n        \n  \n      }\n  \n      //  Registrar municipio\n  \n      if(error == 0){\n  \n        let apiAdminMunicipioRegister = new FormData();\n  \n        apiAdminMunicipioRegister.append(\"municipio\",municipio);\n  \n        _this.postModel(\"apiAdminMunicipioRegister\",apiAdminMunicipioRegister).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n  \n          //  Spinner\n          _this.spinner.hide();\n  \n          $(\".msg\").css(\"color\",\"green\");\n          $(\".msg\").html(\"Se registro el municipio correctamente.\");\n          $(\".msg\").show();\n  \n          setTimeout(function(){\n  \n            $(\".msg\").hide();\n            _this.modal.close();\n  \n            //  Limpiar campos\n  \n            $(\".municipio\").val(\"\");\n  \n            //  Consultar municipios\n            _this.getMunicipios();\n  \n          },3000);\n  \n        });\n  \n      }\n  \n    }\n  \n    /************************************************************************************* */\n    //  Consultar municipios\n    /************************************************************************************* */\n  \n    getMunicipios(){\n  \n      //  Variables iniciales\n      var _this = this;\n  \n      //  Spinner\n      _this.spinner.show();\n  \n      //  Consultar municipios\n  \n      let apiAdminMunicipioGet = new FormData();\n  \n      _this.postModel(\"apiAdminMunicipioGet\",apiAdminMunicipioGet).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n  \n        //  Spinner\n        _this.spinner.hide();\n  \n        _this.municipios = result;\n  \n        setTimeout(function(){\n          $('#tableDT').DataTable();\n        });\n  \n      });\n  \n    }\n  \n    /************************************************************************************* */\n    //  Eliminar municipio\n    /************************************************************************************* */\n  \n    deleteMunicipio(municipio){\n  \n      //  Variables iniciales\n  \n      var _this = this;\n  \n      //  Spinner\n      _this.spinner.show();\n  \n      //  Consultar municipios\n  \n      let apiAdminMunicipioDelete = new FormData();\n  \n      apiAdminMunicipioDelete.append(\"municipio\",municipio);\n  \n      _this.postModel(\"apiAdminMunicipioDelete\",apiAdminMunicipioDelete).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n  \n        //  Spinner\n        _this.spinner.hide();\n  \n        //  Consultar municipios\n        _this.getMunicipios();\n  \n      });\n  \n    }\n  \n  }\n  ","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminMunicipioPageRoutingModule } from './admin-municipio-routing.module';\n\nimport { AdminMunicipioPage } from './admin-municipio.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AdminMunicipioPageRoutingModule\n  ],\n  declarations: [AdminMunicipioPage]\n})\nexport class AdminMunicipioPageModule {}\n"],"sourceRoot":"webpack:///"}