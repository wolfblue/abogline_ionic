{"version":3,"sources":["./src/app/notificaciones/notificaciones.page.scss","./src/app/notificaciones/notificaciones.page.html","./src/app/notificaciones/notificaciones-routing.module.ts","./src/app/notificaciones/notificaciones.page.ts","./src/app/notificaciones/notificaciones.module.ts"],"names":[],"mappings":"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","file":"notificaciones-notificaciones-module.js","sourcesContent":["export default \"thead input {\\n  width: 100%;\\n}\\n\\ntable {\\n  width: 90%;\\n  margin: auto;\\n}\\n\\n#container {\\n  top: 28%;\\n  width: 90%;\\n  margin: auto;\\n  font-size: 13px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXG5vdGlmaWNhY2lvbmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7QUFDRjs7QUFFQTtFQUNFLFVBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxRQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBQ0YiLCJmaWxlIjoibm90aWZpY2FjaW9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGhlYWQgaW5wdXQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG50YWJsZXtcclxuICB3aWR0aDogOTAlO1xyXG4gIG1hcmdpbjogYXV0bztcclxufVxyXG5cclxuI2NvbnRhaW5lcntcclxuICB0b3A6IDI4JTtcclxuICB3aWR0aDogOTAlO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBmb250LXNpemU6MTNweDtcclxufSJdfQ== */\";","export default \"<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <div id=\\\"container\\\">\\n\\n    <table id=\\\"buscarNotificaciones\\\" class=\\\"table table-striped table-bordered\\\">\\n\\n      <thead>\\n\\n        <tr>\\n          <th>#</th>\\n          <th>Notificación</th>\\n          <th>Fecha de registro</th>\\n          <th>Acciones</th>\\n        </tr>\\n\\n      </thead>\\n\\n      <tbody></tbody>\\n\\n    </table>\\n\\n  </div>\\n\\n  <div class=\\\"informacion success alert-primary\\\" role=\\\"alert\\\">\\n    {{this.msg}}\\n  </div>\\n\\n  <div class=\\\"informacion warning alert-warning\\\" role=\\\"alert\\\">\\n    {{this.msg}}\\n  </div>\\n\\n  <div class=\\\"informacion error alert-danger\\\" role=\\\"alert\\\">\\n    {{this.msg}}\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificacionesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificacionesPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport {HttpClient} from \"@angular/common/http\";\nimport { environment } from '../../environments/environment';\nimport {Router} from '@angular/router';\n\ndeclare var $;\n\n@Component({\n  selector: 'app-notificaciones',\n  templateUrl: './notificaciones.page.html',\n  styleUrls: ['./notificaciones.page.scss'],\n})\nexport class NotificacionesPage implements OnInit {\n\n  private unsubscribe$ = new Subject<void>();\n  msg:any = \"\";\n  error: any = 0;\n  notificaciones: any = [];\n\n  constructor(\n\n    private http:HttpClient,\n    private router: Router,\n\n  ) { \n\n    //  Obtener todas las notificaciones\n    this.getNotificaciones();\n\n  }\n\n  ngOnInit() {}\n\n  postModel(Metodo: string, data: FormData) {\n    let url = `${environment.apiUrl}` + Metodo;\n    return this.http.post(url, data);\n  }\n\n  location(ruta){\n\n    this.router.navigateByUrl(ruta); \n\n  }\n\n  /************************************************************************ */\n\n  /**\n   * Obtener todas las notificaciones de un usuario\n   */\n\n   getNotificaciones(){\n     \n    var _this = this;\n\n    let getNotificacion = new FormData();\n\n    getNotificacion.append(\"email\", sessionStorage.getItem(\"email\"));\n\n    this.postModel(\"getNotificacion\",getNotificacion).pipe(takeUntil(this.unsubscribe$)).subscribe((result: any) => {\n\n      this.notificaciones = result;\n\n      var buscarNotificaciones = \"\";\n\n      for(var i = 0; i < result.length; i++){\n\n        buscarNotificaciones += \"<tr>\";\n        buscarNotificaciones += \" <td>\"+(i+1)+\"</td>\";\n        buscarNotificaciones += \" <td>\"+result[i].message+\"</td>\";\n        buscarNotificaciones += \" <td>\"+result[i].created_at+\"</td>\";\n        buscarNotificaciones += \" <td><button type='button' id='\" + result[i].id + \"' class='btn btn-danger eliminarNotificacion'>Eliminar Notificación</button></td>\";\n        buscarNotificaciones += \"</tr>\";\n\n      }\n\n      $(\"#buscarNotificaciones tbody\").append(buscarNotificaciones);\n\n      //  Evento click eliminar notificacion\n\n      $(\".eliminarNotificacion\").click(function(){\n\n        var confirm = window.confirm(\"¿ Esta seguro de eliminar la notificación ?\");\n\n        if(confirm == true){\n\n          let deleteNotificacion = new FormData();\n\n          deleteNotificacion.append(\"id\", $(this).prop(\"id\"));\n\n          _this.postModel(\"deleteNotificacion\",deleteNotificacion).pipe(takeUntil(_this.unsubscribe$)).subscribe((result: any) => {\n            \n            _this.msg = \"Se eliminó la notificación correctamente\";\n            \n            $(\".success\").show();\n\n            $(this).parent().parent().remove();\n\n            //  Volver a la busqueda de casos\n\n            setTimeout(function(){\n\n              $(\".success\").hide();\n\n            },3000);\n\n          });\n\n        }\n\n      });\n\n      //  Datatable notificaciones\n\n      $('#buscarNotificaciones thead tr').clone(true).appendTo( '#buscarNotificaciones thead' );\n      $('#buscarNotificaciones thead tr:eq(1) th').each( function (i) {\n          var title = $(this).text();\n\n          if(title != 'Acciones')\n            $(this).html( '<input type=\"text\" />' );\n          else\n          $(this).html( '' );\n   \n          $( 'input', this ).on( 'keyup change', function () {\n              if ( table.column(i).search() !== this.value ) {\n                  table\n                      .column(i)\n                      .search( this.value )\n                      .draw();\n              }\n          } );\n\n      } );\n   \n      var table = $('#buscarNotificaciones').DataTable( {\n          orderCellsTop: true,\n          fixedHeader: true,\n          language: {\n            \"decimal\": \"\",\n            \"emptyTable\": \"No hay información\",\n            \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\n            \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\n            \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\n            \"infoPostFix\": \"\",\n            \"thousands\": \",\",\n            \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\n            \"loadingRecords\": \"Cargando...\",\n            \"processing\": \"Procesando...\",\n            \"search\": \"Buscar:\",\n            \"zeroRecords\": \"Sin resultados encontrados\",\n            \"paginate\": {\n                \"first\": \"Primero\",\n                \"last\": \"Ultimo\",\n                \"next\": \"Siguiente\",\n                \"previous\": \"Anterior\"\n            }\n        }\n\n      });\n\n    });\n\n   }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificacionesPageRoutingModule } from './notificaciones-routing.module';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificacionesPageRoutingModule\n  ],\n  declarations: [NotificacionesPage]\n})\nexport class NotificacionesPageModule {}\n"],"sourceRoot":"webpack:///"}